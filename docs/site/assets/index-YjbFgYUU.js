import{j as e,a7 as qs,a8 as Hs,a9 as Pa,Z as V,aa as Ks,ab as s,ac as f,$ as G,ad as ca,E as K,F as Z,X as ie,ae as Ra,a4 as Us,af as Gs,ag as ze,ah as Vs,a2 as U,ai as Xs,aj as Ys,ak as Js,al as Qs,T as X,am as Zs,an as hs,ao as ne,ap as re,aq as ba,L as Re,ar as et,as as at,at as Da,au as us,av as xs,aw as ps,ax as st,ay as za,az as tt,aA as js,aB as gs,aC as rt,aD as Na,aE as nt,aF as ot,aG as Ba,aH as Ma,aI as fs,aJ as it,aK as lt,aL as _a,aM as x,aN as qe,aO as ct,aP as dt,aQ as mt,O as ua,P as Y,aR as ht,aS as qa,aT as ut,aU as xt,aV as Ue,aW as r,aX as Ea,aY as pt,aZ as ya,a_ as jt,a$ as Ta,b0 as gt,N as Ge,V as S,b1 as I,b2 as A,b3 as ft,b4 as Ca,b5 as vt,b6 as bt,b7 as yt,Y as vs,b8 as xa,b9 as ce,ba as Ha,bb as Ct,bc as wt,bd as St,be as bs,bf as It,bg as At,bh as _,bi as kt,bj as Pt,bk as Rt,bl as Dt,bm as zt,bn as wa,a0 as Ve,bo as ys,bp as Nt,bq as Bt,br as Mt,bs as _t,bt as Et,bu as Ye,bv as Tt,bw as Lt,bx as Ot,by as Cs,bz as ws,bA as Wt,bB as Ft,a1 as da,W as ma,a3 as Ka,J as Ss,bC as Ua,bD as $t,bE as Ga,bF as qt,bG as ga,bH as Va,bI as Ht,bJ as Kt,bK as Ut,bL as Gt,bM as Vt,bN as Is,w as Xa,bO as As,bP as Xt,bQ as Yt,bR as Jt,bS as Qt,bT as na,bU as Zt,bV as er,bW as ar,bX as sr,bY as tr,bZ as rr,b_ as nr,b$ as or,c0 as ir,c1 as lr,c2 as cr,c3 as Sa,c4 as dr,c5 as mr,c6 as hr,c7 as ur,c8 as xr,c9 as pr,ca as jr,cb as gr,cc as fr,cd as vr,ce as br,cf as yr,cg as Cr,ch as wr,ci as Sr,cj as Ir}from"./mui-core-D-U1h6xC.js";import{e as Ar,g as La,a as l,u as Oa,b as Oe,f as kr,O as Pr,N as ks,L as Ya,B as Rr,h as Dr,i as Ee}from"./react-vendor-DS0DIp5w.js";import{R as ae,P as Ja,a as Qa,C as Za,T as se,L as oe,B as Xe,b as he,X as ue,Y as de,c as Be,d as Wa,e as ke,f as Ps,g as Rs,h as Ds,i as zs,j as ha,A as zr,k as oa,l as Nr}from"./charts-COr1_VxD.js";import{D as Ns}from"./mui-data-Bt8IhQRL.js";import{r as Bs,a as fe}from"./utils-CNWxGdbQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const g of c)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&o(b)}).observe(document,{childList:!0,subtree:!0});function n(c){const g={};return c.integrity&&(g.integrity=c.integrity),c.referrerPolicy&&(g.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?g.credentials="include":c.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function o(c){if(c.ep)return;c.ep=!0;const g=n(c);fetch(c.href,g)}})();var ea={},es;function Br(){if(es)return ea;es=1;var a=Ar();return ea.createRoot=a.createRoot,ea.hydrateRoot=a.hydrateRoot,ea}var Mr=Br();const _r=La(Mr),J={apiUrl:"https://arxis-api.azurewebsites.net/api",apiTimeout:3e4,companyName:"Avila Soluções Empresariais",appName:"ARXIS",appVersion:"1.0.0",links:{avilasolucoes:"https://avila.inc",aviladevelopment:"https://avilaops.com",documentacao:"https://docs.avila.inc",linkedin:"https://linkedin.com/company/avila-devops",suporte:"https://support.avila.inc"},google:{mapsApiKey:"",mapsId:""},features:{analytics:!1,sentry:!1,darkMode:!0},dev:{debugMode:!1,logLevel:"info"}},Ms=l.createContext(void 0),Er=({children:a})=>{const[t,n]=l.useState(null),[o,c]=l.useState(null),[g,b]=l.useState(!0);l.useEffect(()=>{const C=localStorage.getItem("arxis_token"),w=localStorage.getItem("arxis_user");C&&w&&(c(C),n(JSON.parse(w))),b(!1)},[]);const m={user:t,token:o,login:async(C,w)=>{try{const P=await fetch(`${J.apiUrl}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C,password:w})});if(!P.ok)throw new Error("Login falhou");const D=await P.json();c(D.token),n({userId:D.userId,email:D.email,firstName:D.firstName,lastName:D.lastName,role:D.role}),localStorage.setItem("arxis_token",D.token),localStorage.setItem("arxis_user",JSON.stringify({userId:D.userId,email:D.email,firstName:D.firstName,lastName:D.lastName,role:D.role}))}catch(P){throw console.error("Erro no login:",P),P}},register:async C=>{try{const w=await fetch(`${J.apiUrl}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!w.ok)throw new Error("Registro falhou");const P=await w.json();c(P.token),n({userId:P.userId,email:P.email,firstName:P.firstName,lastName:P.lastName,role:P.role}),localStorage.setItem("arxis_token",P.token),localStorage.setItem("arxis_user",JSON.stringify({userId:P.userId,email:P.email,firstName:P.firstName,lastName:P.lastName,role:P.role}))}catch(w){throw console.error("Erro no registro:",w),w}},logout:()=>{n(null),c(null),localStorage.removeItem("arxis_token"),localStorage.removeItem("arxis_user")},isAuthenticated:!!o,isLoading:g};return e.jsx(Ms.Provider,{value:m,children:a})},Fa=()=>{const a=l.useContext(Ms);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},Tr=qs({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0",contrastText:"#ffffff"},secondary:{main:"#ff9800",light:"#ffb74d",dark:"#f57c00",contrastText:"#000000"},error:{main:"#d32f2f"},warning:{main:"#ffa726"},info:{main:"#29b6f6"},success:{main:"#66bb6a"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:["Roboto","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Arial","sans-serif"].join(","),h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiCard:{styleOverrides:{root:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 1px 4px rgba(0,0,0,0.1)"}}}}}),Lr=[{id:"workspace",label:"Workspace",items:[{label:"Selecionar obra",description:"Trocar entre obras ativas ou portfólios"},{label:"Selecionar portfólio",description:"Escolher portfólio corporativo"},{label:"Ambientes",description:"Alternar entre produção e homologação"}]},{id:"project",label:"Project",items:[{label:"Clonar obra",description:"Duplicar estrutura e fluxos de uma obra"},{label:"Arquivar obra",description:"Mover obra para estado arquivado"},{label:"Importar dados",description:"Subir cronogramas, WBS ou configurações"},{label:"Exportar dados",description:"Gerar pacote completo da obra atual"}]},{id:"view",label:"View",items:[{label:"Layouts de tela",description:"Alternar entre visões padrão da plataforma"},{label:"Modo claro/escuro",description:"Alternar rapidamente o tema visual"},{label:"Densidade",description:"Ajustar densidade das tabelas e cards"},{label:"Idioma",description:"Selecionar idioma preferido"}]},{id:"data",label:"Data",items:[{label:"Importar IFC",description:"Trazer modelos no formato IFC"},{label:"Importar Revit",description:"Subir modelos RVT"},{label:"Planilhas (CSV/Excel)",description:"Importar dados tabulares"},{label:"Integração via API",description:"Sincronizar dados por API"}]},{id:"field",label:"Field",items:[{label:"Diário de obra",description:"Atalho rápido para registrar o dia"},{label:"Fotos",description:"Capturar e navegar pelas fotos do canteiro"},{label:"Checklists",description:"Executar rotinas de inspeção em campo"}]},{id:"tools",label:"Tools",items:[{label:"Simuladores",description:"Ferramentas para cenários de prazo e custo"},{label:"Calculadoras",description:"Utilitários para dimensionamento"},{label:"Templates",description:"Modelos de documentos e fluxos"}]},{id:"admin",label:"Admin",items:[{label:"Gestão de usuários",description:"Criar e gerenciar perfis e times"},{label:"Permissões",description:"Configurar papéis por obra ou tenant"},{label:"Planos",description:"Administrar assinaturas e billing"}]},{id:"help",label:"Help",items:[{label:"Central de ajuda",description:"Abrir documentação e guias"},{label:"Changelog",description:"Ver novidades do ARXIS"},{label:"Enviar feedback",description:"Compartilhar sugestões com o time"},{label:"Suporte",description:"Abrir chamado para suporte técnico"}]}],as=[{label:"Search / Command Palette (Ctrl+K)",description:"Encontre qualquer recurso no ARXIS"},{label:"Notification Center",description:"Consulte alertas de prazos, conflitos e aprovações"},{label:"Perfil do usuário",description:"Gerencie preferências pessoais e 2FA"}],Ia=[{id:"dashboard",label:"Dashboard",path:"/",icon:"Dashboard",description:"Visões gerais do projeto ou portfólio com KPIs e alertas críticos.",pages:[{name:"Project Overview",description:"Status cards, heatmap de riscos, alertas críticos e próximos 7 dias."},{name:"Portfolio Overview",description:"Visão multiobra com ranking de desvios e exportação executiva."}]},{id:"projects",label:"Projects",path:"/projects",icon:"Folder",description:"Gestão de obras, templates, arquivamento e configurações por projeto.",pages:[{name:"Projects List",description:"Busca, tags, clone e arquivamento de obras."},{name:"Project Settings",description:"Parâmetros específicos da obra, calendário, WBS e integrações."}]},{id:"timeline4d",label:"Timeline 4D",path:"/timeline",icon:"Timeline",description:"Cronogramas, simulações 4D e análises de produtividade.",pages:[{name:"Gantt View",description:"Cronograma com predecessoras, filtros e baselines."},{name:"4D Simulation",description:"Vincula o cronograma ao modelo 3D para cenários."},{name:"S-Curve & Productivity",description:"Curvas de avanço físico e produtividade planejada."}]},{id:"model3d",label:"Model 3D",path:"/model",icon:"ThreeDRotation",description:"Visualização, análises e dados do modelo BIM.",pages:[{name:"3D Viewer",description:"Navegação com cortes, filtros e views favoritas."},{name:"Clash Detection",description:"Regras de conflito, agrupamentos e status."},{name:"Model Data Browser",description:"Tabela de propriedades exportável."}]},{id:"tasks",label:"Tasks & Workflow",path:"/tasks",icon:"Assignment",description:"Boards operacionais e desenho de fluxos de aprovação.",pages:[{name:"Task Board",description:"Kanban com checklists, anexos e templates."},{name:"Workflow Designer",description:"Fluxos visuais com SLA e condicional."}]},{id:"field",label:"Field",path:"/field",icon:"Map",description:"Rotinas do canteiro para diários, fotos e checklists móveis.",pages:[{name:"Daily Log",description:"Registro completo do dia, anexos e relatório PDF."},{name:"Field Checklist",description:"Inspeções em campo com resultados e NCs."},{name:"Field Photos & Map",description:"Galeria georreferenciada e comparativos."}]},{id:"issues",label:"Issues & RFI",path:"/issues",icon:"BugReport",description:"Centralização de pendências e pedidos de informação.",pages:[{name:"Issues Board",description:"Gestão de pendências com prioridade e SLA."},{name:"RFI Center",description:"Fluxo completo de RFIs com histórico."}]},{id:"costs",label:"Costs & Budget",path:"/costs",icon:"Paid",description:"Orçamento, controle de custos e projeções financeiras.",pages:[{name:"Budget Breakdown",description:"Importação e revisão de orçamento por WBS."},{name:"Cost Control",description:"Comparativo planejado vs realizado por centro de custo."},{name:"Forecast & Cash Flow",description:"Simulações de cenários e exportações de fluxo."}]},{id:"procurement",label:"Procurement & Stock",path:"/procurement",icon:"ShoppingCart",description:"Requisições, pedidos de compra e controle de estoque.",pages:[{name:"Requests",description:"Requisições vinculadas a frentes e aprovação multinível."},{name:"Purchase Orders",description:"Pedidos emitidos e status logístico."},{name:"Deliveries & Stock",description:"Recebimento móvel, conferência e alertas."}]},{id:"documents",label:"Documents & Contracts",path:"/documents",icon:"Description",description:"Repositório documental e gestão contratual.",pages:[{name:"Document Library",description:"Pastas, versões e permissões granulares."},{name:"Contract Manager",description:"Resumo de contratos, aditivos e vínculos."}]},{id:"quality",label:"Quality & Safety",path:"/quality",icon:"Security",description:"Planos de qualidade, não conformidades e indicadores de segurança.",pages:[{name:"Quality Plans",description:"ITPs associados a checklists de campo."},{name:"Non-Conformities",description:"Registro, plano de ação e encerramento com evidência."},{name:"Safety Board",description:"Indicadores, incidentes e ações preventivas."}]},{id:"analytics",label:"Analytics & Reports",path:"/analytics",icon:"Analytics",description:"KPI builder, relatórios e exportações automáticas.",pages:[{name:"KPI Builder",description:"Composição de indicadores a partir de múltiplas fontes."},{name:"Report Templates",description:"Relatórios pré-configurados e agendamento."}]},{id:"integrations",label:"Integrations",path:"/integrations",icon:"Hub",description:"Integração com BIM, ERPs, nuvens e APIs abertas.",pages:[{name:"BIM & Design",description:"Conectores IFC, Revit, Navisworks e similares."},{name:"ERP & Finance",description:"Integrações com sistemas financeiros e contábeis."},{name:"Storage & Cloud",description:"Sincronização com plataformas de arquivos."},{name:"Open API & Webhooks",description:"Gestão de tokens e eventos do ARXIS."}]},{id:"marketplace",label:"Marketplace",path:"/marketplace",icon:"Storefront",description:"Apresentação das soluções ARXIS, downloads e jornadas de adoção.",pages:[{name:"Espaços do Usuário",description:"Portal com painéis, comunicação, templates e apps móveis conectados."},{name:"Espaços Financeiros",description:"Área para orçamentos, billing, integrações ERP e auditoria."},{name:"Downloads & Add-ons",description:"Central para pacotes, instaladores e complementos ARXIS."}]},{id:"stakeholders",label:"Stakeholders Portal",path:"/stakeholders",icon:"People",description:"Experiência dedicada para clientes, conselho e fornecedores com dados segmentados.",pages:[{name:"Visão Executiva",description:"Dashboards financeiros, marcos e status de riscos para o conselho."},{name:"Portal Colaborativo",description:"RFIs, contratos, checklists e comunicação bidirecional com clientes."},{name:"Experiência de Fornecedores",description:"Pedidos, entregas, documentação e fluxo de aprovações integrados."}]},{id:"automations",label:"Automations",path:"/automations",icon:"AutoAwesome",description:"Regras, gatilhos e bots para automatizar fluxos.",pages:[{name:"Rules Engine",description:"Configuração de gatilhos do tipo se/então."},{name:"Bots & Schedulers",description:"Rotinas automáticas e agendamentos."}]},{id:"settings",label:"Settings (Project)",path:"/settings",icon:"Tune",description:"Configurações específicas da obra e layouts padrão.",pages:[{name:"Layouts",description:"Presets de dashboard e componentes padrão."},{name:"Permissões",description:"Perfis e papéis do projeto."},{name:"Formatos",description:"Moeda, datas e unidades da obra."}]},{id:"admin",label:"Admin (Tenant)",path:"/admin",icon:"AdminPanelSettings",description:"Gestão corporativa da conta, billing e auditoria.",pages:[{name:"Usuários e grupos",description:"Administração global de equipes."},{name:"Planos e billing",description:"Assinaturas, faturas e domínios autorizados."},{name:"Auditoria",description:"Logs de atividades e rastreabilidade."}]}],Or=({onMenuClick:a})=>{var O,M,F,h;const{user:t,logout:n}=Fa(),o=Oa(),[c,g]=l.useState(null),[b,i]=l.useState({id:null,anchor:null}),[d,k]=l.useState(!1),m=p=>{g(p.currentTarget)},C=()=>{g(null)},w=()=>{n(),o("/login"),C()},P=p=>N=>{i({id:p,anchor:N.currentTarget})},D=()=>{i({id:null,anchor:null})};return e.jsxs(e.Fragment,{children:[e.jsx(Hs,{position:"fixed",sx:{zIndex:p=>p.zIndex.drawer+1},children:e.jsxs(Pa,{children:[e.jsx(V,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:a,sx:{mr:2},children:e.jsx(Ks,{})}),e.jsx(s,{variant:"h6",noWrap:!0,component:"div",sx:{mr:3},children:"ARXIS - Gerenciamento de Obras"}),e.jsx(f,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",gap:1,flexGrow:1},children:Lr.map(p=>e.jsxs(Oe.Fragment,{children:[e.jsx(G,{color:"inherit",onClick:P(p.id),"aria-haspopup":"true","aria-controls":`${p.id}-menu`,sx:{textTransform:"none"},children:p.label}),e.jsx(ca,{id:`${p.id}-menu`,anchorEl:b.anchor,open:b.id===p.id,onClose:D,MenuListProps:{sx:{minWidth:280}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:p.items.map(N=>e.jsx(K,{onClick:D,children:e.jsx(Z,{primary:N.label,secondary:N.description})},N.label))})]},p.id))}),e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(ie,{title:(O=as[0])==null?void 0:O.description,children:e.jsx(V,{color:"inherit",onClick:()=>k(!0),children:e.jsx(Ra,{})})}),e.jsx(V,{color:"inherit",children:e.jsx(Us,{badgeContent:3,color:"error",children:e.jsx(Gs,{})})}),e.jsx(V,{onClick:m,color:"inherit",children:e.jsxs(ze,{sx:{width:32,height:32,bgcolor:"secondary.main"},children:[(M=t==null?void 0:t.firstName)==null?void 0:M.charAt(0),(F=t==null?void 0:t.lastName)==null?void 0:F.charAt(0)]})}),e.jsxs(ca,{anchorEl:c,open:!!c,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(K,{disabled:!0,children:e.jsxs(s,{variant:"body2",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})}),e.jsx(K,{disabled:!0,children:e.jsx(s,{variant:"caption",color:"text.secondary",children:t==null?void 0:t.email})}),e.jsxs(K,{onClick:C,children:[e.jsx(Vs,{sx:{mr:1}}),"Perfil"]}),e.jsx(U,{sx:{my:1}}),e.jsxs(K,{onClick:w,children:[e.jsx(Xs,{sx:{mr:1}}),"Sair"]})]})]})]})}),e.jsxs(Ys,{open:d,onClose:()=>k(!1),fullWidth:!0,maxWidth:"sm",children:[e.jsx(Js,{children:(h=as[0])==null?void 0:h.label}),e.jsx(Qs,{children:e.jsx(X,{autoFocus:!0,margin:"dense",label:"Digite para procurar qualquer coisa no ARXIS",type:"search",fullWidth:!0,variant:"outlined"})}),e.jsx(Zs,{children:e.jsx(G,{onClick:()=>k(!1),children:"Fechar"})})]})]})},ss=260,ts={Dashboard:e.jsx(lt,{}),Folder:e.jsx(it,{}),Assignment:e.jsx(fs,{}),BugReport:e.jsx(Ma,{}),Assessment:e.jsx(Ba,{}),Settings:e.jsx(ot,{}),People:e.jsx(nt,{}),Timeline:e.jsx(Na,{}),ThreeDRotation:e.jsx(rt,{}),Map:e.jsx(gs,{}),Paid:e.jsx(js,{}),ShoppingCart:e.jsx(tt,{}),Description:e.jsx(za,{}),Security:e.jsx(st,{}),Analytics:e.jsx(ps,{}),Hub:e.jsx(xs,{}),Storefront:e.jsx(us,{}),AutoAwesome:e.jsx(Da,{}),Tune:e.jsx(at,{}),AdminPanelSettings:e.jsx(et,{})},Wr=({open:a,onClose:t})=>{const n=Oa(),o=kr(),c=Ia.filter(d=>d.id!=="settings"&&d.id!=="admin"),g=Ia.filter(d=>d.id==="settings"||d.id==="admin"),b=d=>{n(d),t()},i=d=>d==="/"?o.pathname==="/":o.pathname===d||o.pathname.startsWith(`${d}/`);return e.jsxs(hs,{variant:"temporary",open:a,onClose:t,sx:{width:ss,flexShrink:0,"& .MuiDrawer-paper":{width:ss,boxSizing:"border-box"}},children:[e.jsx(Pa,{}),e.jsxs(f,{sx:{overflow:"auto",display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(ne,{children:c.map(d=>e.jsx(re,{disablePadding:!0,children:e.jsxs(ba,{selected:i(d.path),onClick:()=>b(d.path),children:[e.jsx(Re,{sx:{color:i(d.path)?"primary.main":"inherit"},children:ts[d.icon]}),e.jsx(Z,{primary:d.label,secondary:d.description,secondaryTypographyProps:{noWrap:!0}})]})},d.id))}),e.jsx(f,{sx:{flexGrow:1}}),e.jsx(U,{}),e.jsx(ne,{children:g.map(d=>e.jsx(re,{disablePadding:!0,children:e.jsxs(ba,{selected:i(d.path),onClick:()=>b(d.path),children:[e.jsx(Re,{sx:{color:i(d.path)?"primary.main":"inherit"},children:ts[d.icon]}),e.jsx(Z,{primary:d.label,secondary:d.description})]})},d.id))}),e.jsx(f,{sx:{p:2,textAlign:"center"},children:e.jsx(s,{variant:"caption",color:"text.secondary",children:"ARXIS v1.0.0"})})]})]})},Fr=()=>e.jsx(f,{component:"footer",sx:{backgroundColor:"background.paper",borderTop:1,borderColor:"divider",py:3,mt:"auto"},children:e.jsxs(_a,{maxWidth:"lg",children:[e.jsxs(x,{container:!0,spacing:3,children:[e.jsxs(x,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:J.appName}),e.jsx(s,{variant:"body2",color:"text.secondary",children:J.companyName}),e.jsxs(s,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:["Versão ",J.appVersion]})]}),e.jsxs(x,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Links Úteis"}),e.jsxs(f,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsx(qe,{href:J.links.avilasolucoes,target:"_blank",rel:"noopener noreferrer",color:"text.secondary",underline:"hover",variant:"body2",children:"Avila Soluções"}),e.jsx(qe,{href:J.links.aviladevelopment,target:"_blank",rel:"noopener noreferrer",color:"text.secondary",underline:"hover",variant:"body2",children:"Avila Development"}),e.jsx(qe,{href:J.links.documentacao,target:"_blank",rel:"noopener noreferrer",color:"text.secondary",underline:"hover",variant:"body2",children:"Documentação"}),e.jsx(qe,{href:J.links.suporte,target:"_blank",rel:"noopener noreferrer",color:"text.secondary",underline:"hover",variant:"body2",children:"Suporte Técnico"})]})]}),e.jsxs(x,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Redes Sociais"}),e.jsxs(f,{sx:{display:"flex",gap:1},children:[e.jsx(V,{component:"a",href:J.links.linkedin,target:"_blank",rel:"noopener noreferrer",size:"small",color:"primary","aria-label":"LinkedIn",children:e.jsx(ct,{})}),e.jsx(V,{component:"a",href:J.links.avilasolucoes,target:"_blank",rel:"noopener noreferrer",size:"small",color:"primary","aria-label":"Website",children:e.jsx(dt,{})}),e.jsx(V,{component:"a",href:J.links.documentacao,target:"_blank",rel:"noopener noreferrer",size:"small",color:"primary","aria-label":"Documentação",children:e.jsx(za,{})}),e.jsx(V,{component:"a",href:J.links.suporte,target:"_blank",rel:"noopener noreferrer",size:"small",color:"primary","aria-label":"Suporte",children:e.jsx(mt,{})})]})]})]}),e.jsx(U,{sx:{my:2}}),e.jsx(f,{sx:{textAlign:"center"},children:e.jsxs(s,{variant:"caption",color:"text.secondary",children:["© ",new Date().getFullYear()," ",J.companyName,". Todos os direitos reservados."]})})]})}),$r=()=>{const[a,t]=l.useState(!1),n=()=>{t(!a)};return e.jsxs(f,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e.jsx(Or,{onMenuClick:n}),e.jsx(Wr,{open:a,onClose:()=>t(!1)}),e.jsxs(f,{component:"main",sx:{flexGrow:1,p:3,backgroundColor:"background.default",display:"flex",flexDirection:"column"},children:[e.jsx(Pa,{})," ",e.jsx(f,{sx:{flexGrow:1},children:e.jsx(Pr,{})})]}),e.jsx(Fr,{})]})},qr=({children:a})=>{const{isAuthenticated:t,isLoading:n}=Fa();return n?e.jsx(f,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:e.jsx(ua,{})}):t?e.jsx(e.Fragment,{children:a}):e.jsx(ks,{to:"/login",replace:!0})};function rs(a){const{children:t,value:n,index:o,...c}=a;return e.jsx("div",{hidden:n!==o,...c,children:n===o&&e.jsx(f,{sx:{pt:3},children:t})})}const Hr=()=>{const[a,t]=l.useState(0),[n,o]=l.useState(""),[c,g]=l.useState(""),[b,i]=l.useState(""),[d,k]=l.useState(""),[m,C]=l.useState(""),[w,P]=l.useState(""),[D,O]=l.useState(!1),{login:M,register:F}=Fa(),h=Oa(),p=(u,q)=>{t(q),P("")},N=async u=>{u.preventDefault(),P(""),O(!0);try{await M(n,c),h("/")}catch(q){console.error("Erro ao entrar",q),P("Email ou senha inválidos")}finally{O(!1)}},W=async u=>{u.preventDefault(),P(""),O(!0);try{await F({email:n,password:c,firstName:b,lastName:d,phone:m}),h("/")}catch(q){console.error("Erro ao registrar",q),P("Erro ao criar conta. Tente novamente.")}finally{O(!1)}};return e.jsx(_a,{component:"main",maxWidth:"xs",children:e.jsx(f,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:e.jsxs(Y,{elevation:3,sx:{p:4,width:"100%"},children:[e.jsxs(f,{sx:{textAlign:"center",mb:3},children:[e.jsx(s,{component:"h1",variant:"h4",gutterBottom:!0,children:"ARXIS"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Sistema de Gerenciamento de Obras"})]}),e.jsxs(ht,{value:a,onChange:p,variant:"fullWidth",sx:{mb:2},children:[e.jsx(qa,{label:"Entrar",icon:e.jsx(ut,{}),iconPosition:"start"}),e.jsx(qa,{label:"Criar Conta",icon:e.jsx(xt,{}),iconPosition:"start"})]}),w&&e.jsx(Ue,{severity:"error",sx:{mb:2},children:w}),e.jsx(rs,{value:a,index:0,children:e.jsxs(f,{component:"form",onSubmit:N,children:[e.jsx(X,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:n,onChange:u=>o(u.target.value)}),e.jsx(X,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",value:c,onChange:u=>g(u.target.value)}),e.jsx(G,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:D,children:D?"Entrando...":"Entrar"}),e.jsx(qe,{href:"#",variant:"body2",children:"Esqueceu a senha?"})]})}),e.jsx(rs,{value:a,index:1,children:e.jsxs(f,{component:"form",onSubmit:W,children:[e.jsx(X,{margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"Nome",name:"firstName",autoComplete:"given-name",value:b,onChange:u=>i(u.target.value)}),e.jsx(X,{margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"Sobrenome",name:"lastName",autoComplete:"family-name",value:d,onChange:u=>k(u.target.value)}),e.jsx(X,{margin:"normal",required:!0,fullWidth:!0,id:"register-email",label:"Email",name:"email",autoComplete:"email",value:n,onChange:u=>o(u.target.value)}),e.jsx(X,{margin:"normal",fullWidth:!0,id:"phone",label:"Telefone (opcional)",name:"phone",autoComplete:"tel",value:m,onChange:u=>C(u.target.value)}),e.jsx(X,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"register-password",autoComplete:"new-password",value:c,onChange:u=>g(u.target.value)}),e.jsx(G,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:D,children:D?"Criando conta...":"Criar Conta"})]})})]})})})},We=J.apiUrl+"/api",_s=()=>localStorage.getItem("arxis_token"),Fe=()=>{const a=_s(),t={"Content-Type":"application/json"};return a&&(t.Authorization=`Bearer ${a}`),t};async function $e(a){if(!a.ok){a.status===401&&(localStorage.removeItem("arxis_token"),localStorage.removeItem("arxis_user"),window.location.href="/login");const n=await a.text();throw new Error(n||`HTTP error! status: ${a.status}`)}const t=await a.text();return t?JSON.parse(t):{}}const T={async get(a,t){const n=await fetch(`${We}${a}`,{method:"GET",headers:Fe(),...t}),o=n.headers.get("content-type");return o&&o.includes("application/octet-stream")?n.blob():$e(n)},async post(a,t,n){const o=t instanceof FormData,c=o?{}:Fe(),g=_s();g&&(c.Authorization=`Bearer ${g}`);const b=await fetch(`${We}${a}`,{method:"POST",headers:c,body:o?t:JSON.stringify(t),...n});return $e(b)},async put(a,t){const n=await fetch(`${We}${a}`,{method:"PUT",headers:Fe(),body:JSON.stringify(t)});return $e(n)},async delete(a){const t=await fetch(`${We}${a}`,{method:"DELETE",headers:Fe()});return $e(t)},async patch(a,t){const n=await fetch(`${We}${a}`,{method:"PATCH",headers:Fe(),body:JSON.stringify(t)});return $e(n)}},Kr={getOverview:()=>T.get("/dashboard/overview"),getProjectStats:()=>T.get("/dashboard/statistics/projects"),getTaskStats:()=>T.get("/dashboard/statistics/tasks"),getIssueStats:()=>T.get("/dashboard/statistics/issues"),getBudgetStats:()=>T.get("/dashboard/statistics/budget"),getRecentProjects:(a=10)=>T.get(`/dashboard/projects/recent?limit=${a}`),getTimeline:(a=20)=>T.get(`/dashboard/timeline?limit=${a}`)},aa=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],sa=({title:a,value:t,icon:n,color:o,subtitle:c})=>e.jsx(I,{elevation:2,children:e.jsx(A,{children:e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(f,{children:[e.jsx(s,{color:"text.secondary",variant:"body2",gutterBottom:!0,children:a}),e.jsx(s,{variant:"h4",component:"div",children:t}),c&&e.jsx(s,{variant:"caption",color:"text.secondary",children:c})]}),e.jsx(f,{sx:{backgroundColor:o,borderRadius:2,padding:1.5,display:"flex",alignItems:"center",justifyContent:"center"},children:n})]})})}),Ur=()=>{const[a,t]=l.useState(null),[n,o]=l.useState(!0),[c,g]=l.useState(null);l.useEffect(()=>{b()},[]);const b=async()=>{var h;try{o(!0);const p=await Kr.getOverview();t(p),g(null)}catch(p){const N=((h=p.response)==null?void 0:h.status)===401?"Sessão expirada. Por favor, faça login novamente.":p.message||"Erro ao carregar dados do dashboard";g(N),console.error("Error loading dashboard:",p)}finally{o(!1)}};if(n)return e.jsx(f,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsx(ua,{size:60})});if(c)return e.jsx(f,{p:3,children:e.jsx(Ue,{severity:"error",children:c})});if(!a)return null;const{projectStats:i,taskStats:d,issueStats:k,budgetStats:m,recentProjects:C,timeline:w}=a,P=Object.entries(i.projectsByStatus).map(([h,p])=>({name:h,value:p})),D=Object.entries(d.tasksByStatus).map(([h,p])=>({name:h,value:p})),O=Object.entries(k.issuesByStatus).map(([h,p])=>({name:h,value:p})),M=Object.entries(k.issuesBySeverity).map(([h,p])=>({name:h,value:p})),F=h=>({Completed:"success",InProgress:"primary",OnHold:"warning",Planning:"info",Archived:"default",Cancelled:"error"})[h]||"default";return e.jsxs(f,{children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxs(f,{children:[e.jsx(s,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Dashboard"}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:["Bem-vindo ao ",J.appName," - ",J.companyName]})]}),e.jsxs(r,{direction:"row",spacing:1,children:[e.jsx(ie,{title:"Atualizar dados",children:e.jsx(V,{onClick:b,color:"primary",children:e.jsx(Ea,{})})}),e.jsx(ie,{title:"Informações",children:e.jsx(V,{color:"primary",children:e.jsx(pt,{})})})]})]}),e.jsxs(x,{container:!0,spacing:3,mb:3,children:[e.jsx(x,{item:!0,xs:12,sm:6,md:3,children:e.jsx(sa,{title:"Total de Projetos",value:i.totalProjects,icon:e.jsx(ya,{sx:{color:"white"}}),color:"#1976d2",subtitle:`${i.activeProjects} ativos`})}),e.jsx(x,{item:!0,xs:12,sm:6,md:3,children:e.jsx(sa,{title:"Tarefas",value:d.totalTasks,icon:e.jsx(fs,{sx:{color:"white"}}),color:"#2e7d32",subtitle:`${d.completionRate}% concluídas`})}),e.jsx(x,{item:!0,xs:12,sm:6,md:3,children:e.jsx(sa,{title:"Issues",value:k.totalIssues,icon:e.jsx(Ma,{sx:{color:"white"}}),color:"#ed6c02",subtitle:`${k.openIssues} abertas`})}),e.jsx(x,{item:!0,xs:12,sm:6,md:3,children:e.jsx(sa,{title:"Orçamento Total",value:`R$ ${m.totalBudget.toLocaleString("pt-BR")}`,icon:e.jsx(jt,{sx:{color:"white"}}),color:"#9c27b0",subtitle:`${m.spentPercentage}% gasto`})})]}),e.jsxs(x,{container:!0,spacing:3,mb:3,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(Y,{elevation:2,sx:{p:3,height:"100%"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Projetos por Status"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Ja,{children:[e.jsx(Qa,{data:P,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:P.map((h,p)=>e.jsx(Za,{fill:aa[p%aa.length]},`cell-${p}`))}),e.jsx(se,{}),e.jsx(oe,{})]})})]})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(Y,{elevation:2,sx:{p:3,height:"100%"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Tarefas por Status"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Xe,{data:D,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"name"}),e.jsx(de,{}),e.jsx(se,{}),e.jsx(oe,{}),e.jsx(Be,{dataKey:"value",fill:"#2e7d32"})]})})]})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(Y,{elevation:2,sx:{p:3,height:"100%"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Issues por Severidade"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Ja,{children:[e.jsx(Qa,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:M.map((h,p)=>e.jsx(Za,{fill:aa[p%aa.length]},`cell-${p}`))}),e.jsx(se,{}),e.jsx(oe,{})]})})]})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(Y,{elevation:2,sx:{p:3,height:"100%"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Issues por Status"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Xe,{data:O,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"name"}),e.jsx(de,{}),e.jsx(se,{}),e.jsx(oe,{}),e.jsx(Be,{dataKey:"value",fill:"#ed6c02"})]})})]})})]}),e.jsxs(x,{container:!0,spacing:3,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(Y,{elevation:2,sx:{p:3,height:"100%"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Projetos Recentes"}),e.jsx(ne,{children:C.slice(0,5).map((h,p)=>e.jsxs(Oe.Fragment,{children:[p>0&&e.jsx(U,{}),e.jsx(re,{children:e.jsx(Z,{primary:e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(s,{variant:"subtitle1",children:h.projectName}),e.jsx(S,{label:h.status,size:"small",color:F(h.status)})]}),secondary:e.jsxs(f,{mt:1,children:[e.jsxs(r,{direction:"row",spacing:2,mb:1,children:[e.jsxs(s,{variant:"caption",children:[e.jsx(Ta,{sx:{fontSize:14,mr:.5}}),h.completedTasks,"/",h.totalTasks," tarefas"]}),h.openIssues>0&&e.jsxs(s,{variant:"caption",color:"error",children:[e.jsx(gt,{sx:{fontSize:14,mr:.5}}),h.openIssues," issues"]})]}),e.jsxs(f,{children:[e.jsxs(f,{display:"flex",justifyContent:"space-between",mb:.5,children:[e.jsx(s,{variant:"caption",children:"Progresso"}),e.jsxs(s,{variant:"caption",children:[h.completionPercentage,"%"]})]}),e.jsx(Ge,{variant:"determinate",value:h.completionPercentage,color:h.isOverdue?"error":"primary"})]})]})})})]},h.projectId))})]})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(Y,{elevation:2,sx:{p:3,height:"100%"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Atividades Recentes"}),e.jsx(ne,{children:w.slice(0,8).map((h,p)=>e.jsxs(Oe.Fragment,{children:[p>0&&e.jsx(U,{}),e.jsx(re,{children:e.jsx(Z,{primary:h.title,secondary:e.jsx(e.Fragment,{children:e.jsxs(s,{component:"span",variant:"caption",color:"text.secondary",children:[h.projectName," • ",h.action," •"," ",new Date(h.timestamp).toLocaleString("pt-BR")]})})})})]},h.id))})]})})]})]})};var Es=(a=>(a[a.Planning=0]="Planning",a[a.InProgress=1]="InProgress",a[a.OnHold=2]="OnHold",a[a.Completed=3]="Completed",a[a.Archived=4]="Archived",a[a.Cancelled=5]="Cancelled",a))(Es||{}),Ie=(a=>(a[a.Residential=0]="Residential",a[a.Commercial=1]="Commercial",a[a.Industrial=2]="Industrial",a[a.Infrastructure=3]="Infrastructure",a[a.Hospital=4]="Hospital",a[a.Educational=5]="Educational",a[a.Other=6]="Other",a))(Ie||{});const $a={getAll:()=>T.get("/projects"),getById:a=>T.get(`/projects/${a}`),create:a=>T.post("/projects",a),update:(a,t)=>T.put(`/projects/${a}`,t),delete:a=>T.delete(`/projects/${a}`)},Ts=["Planning","InProgress","OnHold","Completed","Archived","Cancelled"],Gr={Planning:"primary",InProgress:"success",OnHold:"warning",Completed:"default",Archived:"secondary",Cancelled:"error"},fa={Planning:"Planejamento",InProgress:"Em andamento",OnHold:"Em espera",Completed:"Concluído",Archived:"Arquivado",Cancelled:"Cancelado"},Vr={[Ie.Residential]:"Residencial",[Ie.Commercial]:"Comercial",[Ie.Industrial]:"Industrial",[Ie.Infrastructure]:"Infraestrutura",[Ie.Hospital]:"Hospitalar",[Ie.Educational]:"Educacional",[Ie.Other]:"Outros"},Xr=(a,t)=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:t??"BRL"}).format(a):"-",Yr=a=>Ts.includes(a),va=a=>{const t=Es[a];return typeof t=="string"&&Yr(t)?t:"Planning"},Jr=a=>a===void 0?"-":Vr[a]??"Outros",Qr=()=>{const[a,t]=l.useState([]),[n,o]=l.useState(!0),[c,g]=l.useState(""),[b,i]=l.useState("all"),[d,k]=l.useState([]),[m,C]=l.useState(null);l.useEffect(()=>{(async()=>{try{const p=await $a.getAll();t(p)}catch(p){console.error("Erro ao carregar projetos:",p)}finally{o(!1)}})()},[]);const w=l.useMemo(()=>Array.from(new Set(a.flatMap(h=>h.tags??[]))).filter(Boolean).sort(),[a]),P=l.useMemo(()=>{const h=c.trim().toLowerCase();return a.filter(p=>{const N=va(p.status),W=b==="all"||N===b,u=h.length===0||[p.name,p.client,p.city].filter(H=>!!H).some(H=>H.toLowerCase().includes(h)),q=d.length===0||d.every(H=>{var xe;return(xe=p.tags)==null?void 0:xe.includes(H)});return W&&u&&q})},[a,c,b,d]),D=[{field:"name",headerName:"Nome do Projeto",flex:1.1,minWidth:220},{field:"client",headerName:"Cliente",flex:1,minWidth:160,valueGetter:h=>h??"-"},{field:"city",headerName:"Cidade",width:140,valueGetter:(h,p)=>{const{city:N,state:W}=p;return N?W?`${N}/${W}`:N:W??"-"}},{field:"type",headerName:"Tipo",width:150,valueFormatter:h=>Jr(h)},{field:"status",headerName:"Status",width:150,renderCell:h=>{const p=va(h.value);return e.jsx(S,{label:fa[p]??p,color:Gr[p]??"default",size:"small"})},valueFormatter:h=>{if(h===void 0)return"-";const p=va(h);return fa[p]??p}},{field:"totalBudget",headerName:"Orçamento",width:160,valueFormatter:(h,p)=>Xr(p.totalBudget,p.currency)},{field:"startDate",headerName:"Início",width:120,valueFormatter:h=>h?new Date(h).toLocaleDateString("pt-BR"):"-"},{field:"endDate",headerName:"Término",width:120,valueFormatter:h=>h?new Date(h).toLocaleDateString("pt-BR"):"-"},{field:"tags",headerName:"Tags",flex:1,minWidth:200,renderCell:h=>{const p=h.value??[],N=p.slice(0,3),W=p.length-N.length;return e.jsxs(r,{direction:"row",spacing:.5,sx:{overflow:"hidden"},children:[N.map(u=>e.jsx(S,{label:u,size:"small",icon:e.jsx(Ha,{fontSize:"small"})},u)),W>0?e.jsx(S,{label:`+${W}`,size:"small",variant:"outlined"}):null]})},sortable:!1},{field:"actions",headerName:"Ações",width:160,sortable:!1,renderCell:()=>e.jsxs(r,{direction:"row",spacing:1,children:[e.jsx(ie,{title:"Visualizar",children:e.jsx(V,{size:"small",color:"primary",children:e.jsx(Ct,{fontSize:"small"})})}),e.jsx(ie,{title:"Editar",children:e.jsx(V,{size:"small",color:"default",children:e.jsx(wt,{fontSize:"small"})})}),e.jsx(ie,{title:"Excluir",children:e.jsx(V,{size:"small",color:"error",children:e.jsx(St,{fontSize:"small"})})})]})}],O=(h,p)=>{p!==null&&i(p)},M=h=>{k(p=>p.includes(h)?p.filter(N=>N!==h):[...p,h])},F=()=>{g(""),i("all"),k([])};return e.jsxs(f,{children:[e.jsxs(r,{direction:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},spacing:2,sx:{mb:3},children:[e.jsxs(f,{children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"Projetos"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Gerencie todas as obras com filtros por status, tags e templates."})]}),e.jsxs(r,{direction:"row",spacing:1,children:[e.jsx(G,{variant:"outlined",startIcon:e.jsx(ft,{}),onClick:F,children:"Limpar filtros"}),e.jsx(G,{variant:"contained",startIcon:e.jsx(Ca,{}),onClick:h=>C(h.currentTarget),children:"Novo Projeto"}),e.jsxs(ca,{anchorEl:m,open:!!m,onClose:()=>C(null),children:[e.jsxs(K,{onClick:()=>C(null),children:[e.jsx(Ca,{fontSize:"small",sx:{mr:1}})," Criar do zero"]}),e.jsxs(K,{onClick:()=>C(null),children:[e.jsx(vt,{fontSize:"small",sx:{mr:1}})," Duplicar projeto existente"]}),e.jsx(U,{}),e.jsxs(K,{onClick:()=>C(null),children:[e.jsx(bt,{fontSize:"small",sx:{mr:1}})," Importar (Excel/CSV)"]}),e.jsxs(K,{onClick:()=>C(null),children:[e.jsx(yt,{fontSize:"small",sx:{mr:1}})," Exportar portfólio"]})]})]})]}),e.jsxs(r,{spacing:2,sx:{mb:3},children:[e.jsx(X,{placeholder:"Buscar por nome, cliente ou cidade",value:c,onChange:h=>g(h.target.value),InputProps:{startAdornment:e.jsx(vs,{position:"start",children:e.jsx(Ra,{})})}}),e.jsxs(xa,{value:b,exclusive:!0,onChange:O,size:"small",sx:{flexWrap:"wrap"},children:[e.jsx(ce,{value:"all",children:"Todos"}),Ts.map(h=>e.jsx(ce,{value:h,children:fa[h]??h},h))]}),w.length>0?e.jsx(r,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:w.map(h=>{const p=d.includes(h);return e.jsx(S,{label:h,color:p?"primary":"default",variant:p?"filled":"outlined",onClick:()=>M(h),icon:e.jsx(Ha,{fontSize:"small"})},h)})}):null]}),e.jsx(f,{sx:{height:640,width:"100%"},children:e.jsx(Ns,{rows:P,columns:D,loading:n,getRowId:h=>h.id,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[5,10,25,50],checkboxSelection:!0,disableRowSelectionOnClick:!0,sx:{backgroundColor:"background.paper","& .MuiDataGrid-cell:focus":{outline:"none"}}})})]})};var Zr=Bs();const te=La(Zr),ns=a=>`${a.toFixed(0)}%`,en=({data:a})=>e.jsxs(r,{spacing:3,children:[e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:3,children:e.jsx(I,{elevation:2,children:e.jsx(A,{children:e.jsxs(r,{spacing:1,children:[e.jsxs(r,{direction:"row",alignItems:"center",spacing:1.5,children:[e.jsx(Ba,{color:"primary"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"Taxa de conclusão"})]}),e.jsx(s,{variant:"h3",fontWeight:700,children:ns(a.completionRate)}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Baseado nas últimas 4 semanas de execução."})]})})})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsx(I,{elevation:2,children:e.jsx(A,{children:e.jsxs(r,{spacing:1,children:[e.jsxs(r,{direction:"row",alignItems:"center",spacing:1.5,children:[e.jsx(bs,{color:"error"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"Tarefas bloqueadas"})]}),e.jsx(s,{variant:"h3",fontWeight:700,children:a.overdueTasks}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Itens com prazo crítico ou dependências."})]})})})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsx(I,{elevation:2,children:e.jsx(A,{children:e.jsxs(r,{spacing:1,children:[e.jsxs(r,{direction:"row",alignItems:"center",spacing:1.5,children:[e.jsx(It,{color:"success"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"Lead time médio"})]}),e.jsxs(s,{variant:"h3",fontWeight:700,children:[a.averageCycleTimeHours,"h"]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Da criação até a entrega concluída."})]})})})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsx(I,{elevation:2,children:e.jsx(A,{children:e.jsxs(r,{spacing:1,children:[e.jsxs(r,{direction:"row",alignItems:"center",spacing:1.5,children:[e.jsx(At,{color:"secondary"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"Automação do fluxo"})]}),e.jsx(s,{variant:"h3",fontWeight:700,children:ns(a.automationCoverage)}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Etapas automatizadas no workflow inteligente."})]})})})})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(I,{elevation:2,sx:{height:"100%"},children:e.jsxs(A,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Burndown de sprint"}),e.jsx(f,{height:280,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Wa,{data:a.burndown,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"date"}),e.jsx(de,{}),e.jsx(se,{}),e.jsx(oe,{}),e.jsx(ke,{type:"monotone",dataKey:"planned",stroke:"#1976d2",strokeWidth:2,dot:!1,name:"Planejado"}),e.jsx(ke,{type:"monotone",dataKey:"actual",stroke:"#2e7d32",strokeWidth:2,name:"Real"})]})})})]})})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(I,{elevation:2,sx:{height:"100%"},children:e.jsxs(A,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Distribuição por status"}),e.jsx(f,{height:280,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Xe,{data:a.statusDistribution,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"status"}),e.jsx(de,{}),e.jsx(se,{}),e.jsx(oe,{}),e.jsx(Be,{dataKey:"value",fill:"#00b8a9",name:"Tarefas"})]})})})]})})})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(I,{elevation:2,sx:{height:"100%"},children:e.jsxs(A,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Prioridade x Volume"}),e.jsx(f,{height:280,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Xe,{data:a.priorityDistribution,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"priority"}),e.jsx(de,{}),e.jsx(se,{}),e.jsx(Be,{dataKey:"value",fill:"#ed6c02",name:"Tarefas"})]})})}),e.jsx(U,{sx:{my:2}}),e.jsx(r,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:a.priorityDistribution.map(t=>e.jsx(S,{label:`${t.priority}: ${t.value}`,size:"small"},t.priority))})]})})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(I,{elevation:2,sx:{height:"100%"},children:e.jsxs(A,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Capacidade de squads (Radar)"}),e.jsx(f,{height:280,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Ps,{data:a.teamLoad,children:[e.jsx(Rs,{}),e.jsx(Ds,{dataKey:"team"}),e.jsx(zs,{}),e.jsx(ha,{name:"Capacidade",dataKey:"capacity",stroke:"#1976d2",fill:"#1976d2",fillOpacity:.4}),e.jsx(ha,{name:"Demandas",dataKey:"tasks",stroke:"#ed6c02",fill:"#ed6c02",fillOpacity:.3}),e.jsx(oe,{}),e.jsx(se,{})]})})})]})})})]})]});var ia={exports:{}},an=ia.exports,os;function sn(){return os||(os=1,(function(a,t){(function(n,o){a.exports=o()})(an,(function(){return function(n,o,c){n=n||{};var g=o.prototype,b={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(k,m,C,w){return g.fromToBase(k,m,C,w)}c.en.relativeTime=b,g.fromToBase=function(k,m,C,w,P){for(var D,O,M,F=C.$locale().relativeTime||b,h=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,N=0;N<p;N+=1){var W=h[N];W.d&&(D=w?c(k).diff(C,W.d,!0):C.diff(k,W.d,!0));var u=(n.rounding||Math.round)(Math.abs(D));if(M=D>0,u<=W.r||!W.r){u<=1&&N>0&&(W=h[N-1]);var q=F[W.l];P&&(u=P(""+u)),O=typeof q=="string"?q.replace("%d",u):q(u,m,W.l,M);break}}if(m)return O;var H=M?F.future:F.past;return typeof H=="function"?H(O):H.replace("%s",O)},g.to=function(k,m){return i(k,m,this,!0)},g.from=function(k,m){return i(k,m,this)};var d=function(k){return k.$u?c.utc():c()};g.toNow=function(k){return this.to(d(this),k)},g.fromNow=function(k){return this.from(d(this),k)}}}))})(ia)),ia.exports}var tn=sn();const Ls=La(tn);var la={exports:{}},rn=la.exports,is;function nn(){return is||(is=1,(function(a,t){(function(n,o){a.exports=o(Bs())})(rn,(function(n){function o(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var c=o(n),g={name:"pt-br",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(b){return b+"º"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return c.default.locale(g,null,!0),g}))})(la)),la.exports}nn();var z=(a=>(a[a.Backlog=0]="Backlog",a[a.Todo=1]="Todo",a[a.InProgress=2]="InProgress",a[a.Blocked=3]="Blocked",a[a.Review=4]="Review",a[a.Done=5]="Done",a[a.Cancelled=6]="Cancelled",a))(z||{}),Ne=(a=>(a[a.P4_Low=0]="P4_Low",a[a.P3_Medium=1]="P3_Medium",a[a.P2_High=2]="P2_High",a[a.P1_Critical=3]="P1_Critical",a))(Ne||{});const ta={getByProject:a=>T.get(`/tasks/project/${a}`),getById:a=>T.get(`/tasks/${a}`),create:a=>T.post("/tasks",a),update:(a,t)=>T.put(`/tasks/${a}`,t),updateStatus:(a,t)=>T.patch(`/tasks/${a}/status`,t),delete:a=>T.delete(`/tasks/${a}`),getBoard:a=>T.get(`/tasks/project/${a}/board`),updateWorkflow:(a,t)=>T.put(`/tasks/project/${a}/workflow`,t),seedDemo:a=>T.post(`/tasks/project/${a}/seed-demo`,{})};te.extend(Ls);const De=[{status:z.Backlog,title:"Backlog",hint:"Ideias e demandas futuras",accent:"#8895a7"},{status:z.Todo,title:"A Fazer",hint:"Programadas para execução",accent:"#1976d2"},{status:z.InProgress,title:"Em andamento",hint:"Foco total da equipe",accent:"#2e7d32"},{status:z.Blocked,title:"Bloqueadas",hint:"Dependências ou impedimentos",accent:"#ed6c02"},{status:z.Review,title:"Revisão",hint:"Aguardando aprovação ou QA",accent:"#9c27b0"},{status:z.Done,title:"Concluídas",hint:"Encerradas com sucesso",accent:"#00b8a9"}],on={[Ne.P4_Low]:{label:"Baixa",color:"default"},[Ne.P3_Medium]:{label:"Média",color:"primary"},[Ne.P2_High]:{label:"Alta",color:"warning"},[Ne.P1_Critical]:{label:"Crítica",color:"error"}},ln={[z.Backlog]:"Backlog",[z.Todo]:"A Fazer",[z.InProgress]:"Em andamento",[z.Blocked]:"Bloqueada",[z.Review]:"Revisão",[z.Done]:"Concluída",[z.Cancelled]:"Cancelada"},cn=(a,t)=>{if(!a)return"default";if(t===z.Done)return"success";const n=te(),o=te(a);return o.isBefore(n,"day")?"error":o.diff(n,"day")<=2?"warning":"default"},dn=a=>{if(!a)return"Sem prazo";const t=te(a);return`Entrega ${t.locale("pt-br").format("DD/MM")} (${t.fromNow()})`},mn=({items:a,onStatusChange:t})=>{const n=l.useMemo(()=>De.reduce((c,g)=>(c[g.status]=a.filter(b=>b.status===g.status),c),{[z.Backlog]:[],[z.Todo]:[],[z.InProgress]:[],[z.Blocked]:[],[z.Review]:[],[z.Done]:[],[z.Cancelled]:[]}),[a]),o=a.length;return e.jsx(x,{container:!0,spacing:2,children:De.map(c=>{const g=n[c.status]??[],b=o===0?0:Math.round(g.length/o*100);return e.jsx(x,{item:!0,xs:12,md:6,lg:4,xl:2,children:e.jsxs(Y,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"background.paper"},children:[e.jsxs(f,{px:3,pt:3,pb:1.5,sx:{borderBottom:"1px solid",borderColor:"divider",background:`linear-gradient(135deg, ${c.accent}15, transparent)`},children:[e.jsx(s,{variant:"h6",fontWeight:600,children:c.title}),e.jsx(s,{variant:"caption",color:"text.secondary",children:c.hint}),e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",mt:1.5,children:[e.jsx(S,{label:`${g.length} tarefa${g.length===1?"":"s"}`,size:"small"}),e.jsx(S,{label:`${b}% da carteira`,size:"small",color:"primary",variant:"outlined"})]}),e.jsx(Ge,{variant:"determinate",value:b,sx:{mt:2,height:6,borderRadius:3}})]}),e.jsxs(r,{spacing:2,sx:{p:2,flexGrow:1,overflowY:"auto"},children:[g.map(i=>{const d=on[i.priority],k=cn(i.dueDate,i.status);return e.jsxs(I,{variant:"outlined",sx:{borderRadius:2,borderTop:`4px solid ${c.accent}`},children:[e.jsx(_,{title:e.jsx(s,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:i.title}),subheader:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(S,{size:"small",icon:e.jsx(Rt,{fontSize:"inherit"}),label:d.label,color:d.color,variant:"outlined"}),e.jsx(S,{size:"small",icon:e.jsx(Dt,{fontSize:"inherit"}),label:dn(i.dueDate),color:k,variant:"outlined"})]}),action:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(ie,{title:"Mover para estágio anterior",children:e.jsx("span",{children:e.jsx(V,{size:"small",disabled:i.status===z.Backlog,onClick:()=>{const m=De.findIndex(C=>C.status===i.status);m>0&&t(i.id,De[m-1].status)},children:e.jsx(kt,{fontSize:"small"})})})}),e.jsx(ie,{title:"Mover para próximo estágio",children:e.jsx("span",{children:e.jsx(V,{size:"small",disabled:i.status===z.Done,onClick:()=>{const m=De.findIndex(C=>C.status===i.status);m<De.length-1&&t(i.id,De[m+1].status)},children:e.jsx(Pt,{fontSize:"small"})})})})]})}),e.jsxs(A,{sx:{pt:0},children:[i.description?e.jsx(s,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:i.description}):null,i.tags&&i.tags.length>0?e.jsx(r,{direction:"row",spacing:.5,flexWrap:"wrap",useFlexGap:!0,sx:{mb:1},children:i.tags.map(m=>e.jsx(S,{size:"small",label:m,variant:"outlined"},m))}):null,e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[i.assignee?e.jsx(S,{size:"small",label:i.assignee,icon:e.jsx(zt,{fontSize:"inherit"})}):null,typeof i.checklistDone=="number"&&typeof i.checklistTotal=="number"?e.jsx(S,{size:"small",icon:e.jsx(wa,{fontSize:"inherit"}),label:`${i.checklistDone}/${i.checklistTotal} checklist`,variant:"outlined"}):null]}),typeof i.completedPercentage=="number"?e.jsxs(f,{children:[e.jsx(s,{variant:"caption",color:"text.secondary",display:"block",gutterBottom:!0,children:"Progresso da atividade"}),e.jsx(Ge,{variant:"determinate",value:i.completedPercentage,sx:{height:6,borderRadius:3},color:i.completedPercentage===100?"success":"primary"})]}):null,e.jsxs(f,{mt:2,children:[e.jsx(s,{variant:"caption",color:"text.secondary",display:"block",gutterBottom:!0,children:"Mover para estágio específico"}),e.jsx(Ve,{fullWidth:!0,size:"small",value:i.status,onChange:m=>t(i.id,m.target.value),children:Object.values(z).filter(m=>typeof m=="number").map(m=>e.jsx(K,{value:m,children:ln[m]},m))})]})]})]},i.id)}),g.length===0?e.jsxs(f,{sx:{border:"1px dashed",borderColor:"divider",borderRadius:2,py:4,textAlign:"center",color:"text.secondary"},children:[e.jsx(ys,{sx:{fontSize:38,mb:1,color:`${c.accent}`}}),e.jsx(s,{variant:"body2",children:"Nenhuma tarefa neste estágio"})]}):null]})]})},c.status)})})},hn=[{name:"Solicitação inicial",ownerRole:"Coordenador de Obras",slaHours:8,automation:!0,entryCriteria:"Abertura automática via formulário ou API",exitCriteria:"Checklist inicial concluído"},{name:"Validação técnica",ownerRole:"Engenharia",slaHours:16,automation:!1,entryCriteria:"Documentos anexados e escopo definido",exitCriteria:"Parecer técnico emitido"},{name:"Aprovação financeira",ownerRole:"Financeiro",slaHours:12,automation:!0,entryCriteria:"Valor estimado e centro de custo associados",exitCriteria:"Orçamento reservado e aprovado"},{name:"Execução em campo",ownerRole:"Líder de Frente",slaHours:24,automation:!1,entryCriteria:"Equipe confirmada e OS liberada",exitCriteria:"Registro diário com fotos e checklist"},{name:"Entrega e lições aprendidas",ownerRole:"PMO",slaHours:10,automation:!0,entryCriteria:"Todos os documentos anexados",exitCriteria:"Termo de aceite, métricas e automações concluídas"}],un=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)}),xn=({steps:a,onChange:t})=>{const[n,o]=l.useState(null),c=l.useMemo(()=>{if(a.length===0)return 0;const m=a.reduce((C,w)=>C+w.slaHours,0);return Math.round(m/a.length)},[a]),g=l.useMemo(()=>{if(a.length===0)return 0;const m=a.filter(C=>C.automation).length;return Math.round(m/a.length*100)},[a]),b=m=>{t([...a,{...m,id:un()}]),o(null)},i=(m,C)=>{t(a.map(w=>w.id===m?{...w,...C}:w))},d=(m,C)=>{const w=m+C;if(w<0||w>=a.length)return;const P=[...a],[D]=P.splice(m,1);P.splice(w,0,D),t(P)},k=m=>{t(a.filter(C=>C.id!==m))};return e.jsxs(I,{elevation:3,children:[e.jsx(_,{title:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Na,{color:"primary"}),e.jsx(s,{variant:"h6",fontWeight:600,children:"Workflow inteligente"})]}),subheader:"Configure etapas com SLA, donos e automações gatilhadas por eventos.",action:e.jsx(G,{variant:"contained",startIcon:e.jsx(Ca,{}),onClick:m=>o(m.currentTarget),children:"Adicionar etapa"})}),e.jsx(A,{children:e.jsxs(r,{spacing:3,children:[e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:4,children:e.jsx(I,{variant:"outlined",children:e.jsx(A,{children:e.jsxs(r,{spacing:.5,children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"SLA médio"}),e.jsxs(s,{variant:"h4",fontWeight:700,children:[c,"h"]}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:["Calculado nas ",a.length," etapas ativas."]})]})})})}),e.jsx(x,{item:!0,xs:12,md:4,children:e.jsx(I,{variant:"outlined",children:e.jsx(A,{children:e.jsxs(r,{spacing:.5,children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Cobertura automatizada"}),e.jsxs(s,{variant:"h4",fontWeight:700,children:[g,"%"]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Etapas com webhooks, bots ou aprovações automáticas."})]})})})}),e.jsx(x,{item:!0,xs:12,md:4,children:e.jsx(I,{variant:"outlined",children:e.jsx(A,{children:e.jsxs(r,{spacing:.5,children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Etapas mapeadas"}),e.jsx(s,{variant:"h4",fontWeight:700,children:a.length}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Combine templates com as políticas da sua companhia."})]})})})})]}),e.jsx(f,{children:e.jsx(Nt,{alternativeLabel:!0,activeStep:a.length-1,children:a.map(m=>e.jsx(Bt,{completed:!0,children:e.jsx(Mt,{children:m.name})},m.id))})}),e.jsx(U,{}),e.jsxs(ne,{disablePadding:!0,children:[a.map((m,C)=>e.jsxs(Oe.Fragment,{children:[C>0?e.jsx(U,{component:"li"}):null,e.jsx(re,{alignItems:"flex-start",sx:{py:2},children:e.jsx(f,{sx:{flexGrow:1},children:e.jsxs(r,{direction:{xs:"column",md:"row"},justifyContent:"space-between",spacing:2,alignItems:{md:"center"},children:[e.jsx(Z,{primary:e.jsx(s,{variant:"h6",fontWeight:600,children:m.name}),secondary:e.jsxs(r,{spacing:1,children:[e.jsxs(r,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:[e.jsx(S,{icon:e.jsx(_t,{fontSize:"small"}),label:`SLA: ${m.slaHours}h`}),e.jsx(S,{icon:e.jsx(Et,{fontSize:"small"}),label:m.automation?"Automatizado":"Manual",color:m.automation?"success":"default",variant:m.automation?"filled":"outlined"}),e.jsx(S,{label:`Responsável: ${m.ownerRole}`})]}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:["Entrada: ",m.entryCriteria]}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:["Saída: ",m.exitCriteria]})]})}),e.jsxs(r,{spacing:1,children:[e.jsx(X,{label:"SLA (horas)",type:"number",size:"small",value:m.slaHours,onChange:w=>i(m.id,{slaHours:Number(w.target.value)}),inputProps:{min:1,step:1}}),e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Automação"}),e.jsx(Ye,{checked:m.automation,onChange:w=>i(m.id,{automation:w.target.checked})})]}),e.jsxs(r,{direction:"row",spacing:1,children:[e.jsx(ie,{title:"Subir etapa",children:e.jsx("span",{children:e.jsx(V,{size:"small",onClick:()=>d(C,-1),disabled:C===0,children:e.jsx(Tt,{})})})}),e.jsx(ie,{title:"Descer etapa",children:e.jsx("span",{children:e.jsx(V,{size:"small",onClick:()=>d(C,1),disabled:C===a.length-1,children:e.jsx(Lt,{})})})}),e.jsx(ie,{title:"Remover etapa",children:e.jsx(V,{size:"small",color:"error",onClick:()=>k(m.id),children:e.jsx(Ot,{})})})]})]})]})})})]},m.id)),a.length===0?e.jsx(re,{sx:{py:4,justifyContent:"center"},children:e.jsx(s,{color:"text.secondary",children:"Adicione etapas para criar seu primeiro fluxo inteligente."})}):null]})]})}),e.jsx(ca,{anchorEl:n,open:!!n,onClose:()=>o(null),children:hn.map(m=>e.jsx(K,{onClick:()=>b(m),children:e.jsxs(r,{spacing:.5,children:[e.jsx(s,{variant:"subtitle2",children:m.name}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Responsável: ",m.ownerRole," • SLA ",m.slaHours,"h"]})]})},m.name))})]})},pn={[z.Backlog]:"Backlog",[z.Todo]:"A Fazer",[z.InProgress]:"Em andamento",[z.Blocked]:"Bloqueada",[z.Review]:"Revisão",[z.Done]:"Concluída",[z.Cancelled]:"Cancelada"},jn=()=>{const[a,t]=l.useState([]),[n,o]=l.useState([]),[c,g]=l.useState("Workflow inteligente"),[b,i]=l.useState([]),[d,k]=l.useState(""),[m,C]=l.useState(null),[w,P]=l.useState("all"),[D,O]=l.useState(""),[M,F]=l.useState(!1),[h,p]=l.useState(null),N=l.useRef(null),W=l.useMemo(()=>{const y=new Set;return a.forEach(R=>{R.squad&&y.add(R.squad)}),Array.from(y).sort((R,$)=>R.localeCompare($))},[a]),u=l.useMemo(()=>{const y=D.trim().toLowerCase();return a.filter(R=>{var we;const $=!d||R.projectId===d,L=w==="all"||R.squad===w,je=y.length===0||[R.title,R.description,(we=R.tags)==null?void 0:we.join(" ")].filter(Boolean).some(ge=>ge.toLowerCase().includes(y));return $&&L&&je})},[a,d,w,D]),q=l.useMemo(()=>{const y=u.length,R=u.filter(E=>E.status===z.Done).length,$=u.filter(E=>E.status!==z.Done&&E.dueDate&&te(E.dueDate).isBefore(te(),"day")).length,L=y===0?0:Math.round(u.reduce((E,Q)=>E+(Number.isFinite(Q.cycleTimeHours)?Q.cycleTimeHours:0),0)/y),je=Object.values(z).filter(E=>typeof E=="number").map(E=>({status:pn[E],value:u.filter(Q=>Q.status===E).length})),we=Object.values(Ne).filter(E=>typeof E=="number").map(E=>({priority:["Baixa","Média","Alta","Crítica"][E],value:u.filter(Q=>Q.priority===E).length})),ge=new Map;u.forEach(E=>{const Q=E.squad||"Squad não atribuída",_e=ge.get(Q)??{tasks:0,capacity:12};ge.set(Q,{tasks:_e.tasks+1,capacity:_e.capacity})});const j=Array.from(ge.entries()).map(([E,Q])=>({team:E,tasks:Q.tasks,capacity:Q.capacity})),v=[{date:"Dia 1",planned:30,actual:32},{date:"Dia 2",planned:26,actual:29},{date:"Dia 3",planned:22,actual:24},{date:"Dia 4",planned:18,actual:20},{date:"Dia 5",planned:14,actual:15},{date:"Dia 6",planned:9,actual:10},{date:"Dia 7",planned:4,actual:5},{date:"Dia 8",planned:0,actual:2}],B=n.length===0?0:Math.round(n.filter(E=>E.automation).length/n.length*100);return{completionRate:y===0?0:R/y*100,overdueTasks:$,averageCycleTimeHours:L,automationCoverage:B,statusDistribution:je,priorityDistribution:we,burndown:v,teamLoad:j.length>0?j:[{team:"Squad Global",tasks:R,capacity:12}]}},[u,n]),H=l.useCallback((y,R)=>({id:R.id,title:R.title,description:R.description??void 0,status:R.status,priority:R.priority,dueDate:R.dueDate??void 0,completedPercentage:R.progressPercent,assignee:R.assignedToUserName??"Não atribuído",tags:R.tags??[],checklistTotal:R.checklistTotal,checklistDone:R.checklistDone,project:y.projectName,projectId:y.projectId,squad:R.squad||"Squad não atribuída",cycleTimeHours:R.cycleTimeHours??0,assignedToUserId:R.assignedToUserId}),[]),xe=l.useCallback(y=>({id:y.id,name:y.name,ownerRole:y.ownerRole,slaHours:y.slaHours,automation:y.automation,entryCriteria:y.entryCriteria,exitCriteria:y.exitCriteria}),[]),Ce=l.useCallback(y=>{C({projectName:y.projectName}),g(y.workflow.name),t(y.tasks.map($=>H(y,$)));const R=[...y.workflow.steps].sort(($,L)=>$.orderIndex-L.orderIndex);o(R.map(xe))},[H,xe]),pe=l.useCallback(async y=>{if(y){F(!0),p(null);try{const R=await ta.getBoard(y);Ce(R)}catch(R){console.error("Erro ao carregar board de tarefas",R),p("Não foi possível carregar as tarefas do projeto selecionado."),t([]),o([])}finally{F(!1)}}},[Ce]),Je=l.useCallback(async()=>{try{const R=(await $a.getAll()).map($=>({id:$.id,name:$.name}));if(i(R),R.length===0){k("");return}k($=>$&&R.some(L=>L.id===$)?$:R[0].id)}catch(y){console.error("Erro ao carregar projetos",y),i([]),k(""),p("Não foi possível carregar a lista de projetos.")}},[]);l.useEffect(()=>{Je()},[Je]),l.useEffect(()=>{d?pe(d):(t([]),o([]))},[d,pe]);const Qe=l.useCallback(()=>{P("all"),O("")},[]),pa=l.useCallback(y=>{k(y.target.value)},[]),Ze=l.useCallback(async(y,R)=>{N.current=a,t($=>$.map(L=>L.id===y?{...L,status:R,completedPercentage:R===z.Done?100:L.completedPercentage,checklistDone:R===z.Done&&typeof L.checklistTotal=="number"?L.checklistTotal:L.checklistDone}:L));try{p(null),await ta.updateStatus(y,R),N.current=null}catch($){console.error("Erro ao atualizar status da tarefa",$),p("Não foi possível atualizar o status da tarefa."),N.current&&(t(N.current),N.current=null)}},[a]),ja=l.useCallback(async y=>{const R=[...n];if(o(y),!d)return;const $={name:c,steps:y.map((L,je)=>({id:L.id,name:L.name,orderIndex:je,ownerRole:L.ownerRole,slaHours:L.slaHours,automation:L.automation,entryCriteria:L.entryCriteria,exitCriteria:L.exitCriteria}))};try{p(null);const L=await ta.updateWorkflow(d,$);g(L.name);const je=[...L.steps].sort((we,ge)=>we.orderIndex-ge.orderIndex);o(je.map(xe))}catch(L){console.error("Erro ao atualizar workflow do projeto",L),p("Não foi possível salvar as alterações do workflow."),o(R)}},[d,c,n,xe]),Me=l.useCallback(async()=>{if(d){F(!0),p(null);try{const y=await ta.seedDemo(d);Ce(y)}catch(y){console.error("Erro ao gerar dados demo",y),p("Não foi possível gerar os dados demonstrativos.")}finally{F(!1)}}},[d,Ce]);return e.jsx(f,{children:e.jsxs(r,{spacing:3,children:[e.jsxs(f,{children:[e.jsx(s,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Central de Tarefas & Fluxos Inteligentes"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Controle unificado de execução, automações e indicadores operacionais em um só lugar."}),m?e.jsxs(s,{variant:"subtitle1",color:"text.primary",mt:1,children:["Projeto ativo: ",e.jsx("strong",{children:m.projectName})]}):null]}),e.jsxs(Y,{sx:{p:3},children:[e.jsxs(r,{direction:{xs:"column",md:"row"},spacing:2,alignItems:{xs:"stretch",md:"center"},justifyContent:"space-between",children:[e.jsxs(r,{direction:{xs:"column",md:"row"},spacing:2,flex:1,children:[e.jsxs(X,{select:!0,label:"Projeto",size:"small",value:d,onChange:pa,sx:{minWidth:220},disabled:M||b.length===0,children:[b.length===0?e.jsx(K,{value:"",children:"Nenhum projeto encontrado"}):null,b.map(y=>e.jsx(K,{value:y.id,children:y.name},y.id))]}),e.jsxs(X,{select:!0,label:"Squad / Time",size:"small",value:w,onChange:y=>P(y.target.value),sx:{minWidth:200},disabled:M,children:[e.jsx(K,{value:"all",children:"Todas as squads"}),W.map(y=>e.jsx(K,{value:y,children:y},y))]}),e.jsx(X,{label:"Pesquisar tarefas",size:"small",value:D,onChange:y=>O(y.target.value),placeholder:"Busque por título, tag ou descrição",sx:{flex:1},disabled:M})]}),e.jsxs(r,{direction:"row",spacing:1,justifyContent:"flex-end",children:[e.jsx(G,{variant:"outlined",startIcon:e.jsx(Cs,{}),onClick:Qe,disabled:M,children:"Limpar filtros"}),e.jsx(G,{variant:"contained",startIcon:e.jsx(Ea,{}),onClick:Me,disabled:M||!d,children:"Regerar dados demo"})]})]}),e.jsx(U,{sx:{my:2}}),h?e.jsx(Ue,{severity:"error",sx:{mb:2},children:h}):null,e.jsxs(r,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:[e.jsx(S,{label:`Tarefas filtradas: ${u.length}`,color:"primary",variant:"outlined"}),e.jsx(S,{label:`Concluídas: ${u.filter(y=>y.status===z.Done).length}`,color:"success",variant:"outlined"}),e.jsx(S,{label:`Bloqueadas: ${u.filter(y=>y.status===z.Blocked).length}`,color:"warning",variant:"outlined"}),e.jsx(S,{label:`Críticas: ${u.filter(y=>y.priority===Ne.P1_Critical).length}`,color:"error",variant:"outlined"})]})]}),M?e.jsxs(Y,{sx:{p:6,textAlign:"center"},children:[e.jsx(ua,{color:"primary"}),e.jsx(s,{variant:"subtitle1",mt:2,color:"text.secondary",children:"Carregando dados do board..."})]}):null,!M&&u.length>0?e.jsx(en,{data:q}):null,!M&&u.length===0?e.jsxs(Y,{sx:{p:6,textAlign:"center"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Nenhuma tarefa encontrada"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Ajuste os filtros ou gere dados demo para visualizar o fluxo de trabalho."})]}):null,!M&&u.length>0?e.jsx(mn,{items:u,onStatusChange:Ze}):null,M?null:e.jsx(xn,{steps:n,onChange:ja})]})})};var Ae=(a=>(a[a.Design=0]="Design",a[a.Execution=1]="Execution",a[a.Safety=2]="Safety",a[a.Quality=3]="Quality",a[a.Supply=4]="Supply",a[a.Contract=5]="Contract",a[a.Other=6]="Other",a))(Ae||{}),Pe=(a=>(a[a.P4_Low=0]="P4_Low",a[a.P3_Medium=1]="P3_Medium",a[a.P2_High=2]="P2_High",a[a.P1_Critical=3]="P1_Critical",a))(Pe||{}),ee=(a=>(a[a.Open=0]="Open",a[a.InAnalysis=1]="InAnalysis",a[a.AwaitingResponse=2]="AwaitingResponse",a[a.Resolved=3]="Resolved",a[a.Closed=4]="Closed",a[a.Cancelled=5]="Cancelled",a))(ee||{}),me=(a=>(a[a.WorkTask=0]="WorkTask",a[a.ModelElement=1]="ModelElement",a[a.Document=2]="Document",a[a.Contract=3]="Contract",a[a.DailyLog=4]="DailyLog",a[a.Other=5]="Other",a))(me||{});const Te={getByProject:(a,t)=>{const n=typeof(t==null?void 0:t.isRfi)=="boolean"?`?isRfi=${t.isRfi}`:"";return T.get(`/issues/project/${a}${n}`)},getById:a=>T.get(`/issues/${a}`),create:a=>T.post("/issues",a),update:(a,t)=>T.put(`/issues/${a}`,t),updateStatus:(a,t)=>T.patch(`/issues/${a}/status`,t),delete:a=>T.delete(`/issues/${a}`),addComment:(a,t)=>T.post(`/issues/${a}/comments`,t),getComments:a=>T.get(`/issues/${a}/comments`),addLink:(a,t)=>T.post(`/issues/${a}/links`,t),removeLink:(a,t)=>T.delete(`/issues/${a}/links/${t}`)},Le={[ee.Open]:{label:"Aberto",color:"error"},[ee.InAnalysis]:{label:"Em análise",color:"info"},[ee.AwaitingResponse]:{label:"Aguardando resposta",color:"warning"},[ee.Resolved]:{label:"Resolvido",color:"success"},[ee.Closed]:{label:"Encerrado",color:"default"},[ee.Cancelled]:{label:"Cancelado",color:"secondary"}},He={[Pe.P1_Critical]:{label:"Crítica (P1)",color:"error"},[Pe.P2_High]:{label:"Alta (P2)",color:"warning"},[Pe.P3_Medium]:{label:"Média (P3)",color:"info"},[Pe.P4_Low]:{label:"Baixa (P4)",color:"default"}},Os={[Ae.Design]:"Projetos e desenhos",[Ae.Execution]:"Execução",[Ae.Safety]:"Segurança",[Ae.Quality]:"Qualidade",[Ae.Supply]:"Suprimentos",[Ae.Contract]:"Contratos",[Ae.Other]:"Outros"},ls={[me.WorkTask]:"Tarefa relacionada",[me.ModelElement]:"Elemento BIM",[me.Document]:"Documento",[me.Contract]:"Contrato",[me.DailyLog]:"Diário de obra",[me.Other]:"Outro contexto"},Ws=Object.values(ee).filter(a=>typeof a=="number"),gn=Object.values(Pe).filter(a=>typeof a=="number"),fn=Object.values(me).filter(a=>typeof a=="number"),Fs=a=>a===ee.Resolved||a===ee.Closed||a===ee.Cancelled,Ke=a=>a?new Date(a).toLocaleDateString("pt-BR"):"-",vn=a=>a?new Date(a).toLocaleString("pt-BR"):"-",Aa=a=>!a.dueDate||Fs(a.status)?!1:new Date(a.dueDate).getTime()<Date.now(),bn=({open:a,issue:t,loading:n,onClose:o,onChangeStatus:c,onAddComment:g,onAddLink:b,onRemoveLink:i,addingComment:d,addingLink:k})=>{const[m,C]=l.useState(""),[w,P]=l.useState(!1),[D,O]=l.useState(""),[M,F]=l.useState(""),[h,p]=l.useState(me.Document);l.useEffect(()=>{C(""),P(!1),O(""),F(""),p(me.Document)},[t==null?void 0:t.summary.id,a]);const N=async()=>{const u=m.trim();!t||u.length===0||(await g({message:u,isInternal:w}),C(""),P(!1))},W=async()=>{if(!t)return;const u=D.trim(),q=M.trim();!u||!q||(await b({linkType:h,label:u,externalReference:q}),O(""),F(""))};return e.jsxs(hs,{anchor:"right",open:a,onClose:o,PaperProps:{sx:{width:{xs:"100%",sm:420,md:480},display:"flex",flexDirection:"column"}},children:[e.jsxs(f,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderBottom:1,borderColor:"divider"},children:[e.jsxs(f,{children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(s,{variant:"overline",color:"text.secondary",children:(t==null?void 0:t.summary.referenceCode)??"Detalhes da issue"}),t!=null&&t.summary.isRfi?e.jsx(S,{size:"small",color:"secondary",label:"RFI"}):null,t!=null&&t.summary.isBlocking?e.jsx(S,{size:"small",color:"error",label:"Bloqueio"}):null]}),e.jsx(s,{variant:"h6",sx:{mt:.5},children:(t==null?void 0:t.summary.title)??"Selecione uma issue"})]}),e.jsx(V,{size:"small",onClick:o,children:e.jsx(Ua,{})})]}),e.jsx(f,{sx:{flexGrow:1,overflowY:"auto",p:2},children:n?e.jsx(r,{alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:e.jsx(ua,{size:32})}):t?e.jsxs(r,{spacing:3,children:[e.jsx(r,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(S,{size:"small",color:Le[t.summary.status].color,label:Le[t.summary.status].label}),e.jsx(S,{size:"small",color:He[t.summary.priority].color,label:He[t.summary.priority].label,variant:t.summary.priority===Pe.P4_Low?"outlined":"filled"})]})}),e.jsxs(da,{fullWidth:!0,size:"small",children:[e.jsx(ma,{children:"Status"}),e.jsx(Ve,{label:"Status",value:t.summary.status,onChange:u=>c(u.target.value),children:Ws.map(u=>e.jsx(K,{value:u,children:Le[u].label},u))})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,sm:6,children:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx($t,{fontSize:"small",color:"action"}),e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Responsável:"})," ",t.summary.assignedToUserName??"Não definido"]})]})}),e.jsx(x,{item:!0,xs:12,sm:6,children:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Ga,{fontSize:"small",color:"action"}),e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Tipo:"})," ",Os[t.summary.type]]})]})}),e.jsx(x,{item:!0,xs:12,sm:6,children:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(wa,{fontSize:"small",color:Aa(t.summary)?"error":"action"}),e.jsxs(s,{variant:"body2",color:Aa(t.summary)?"error":void 0,children:[e.jsx("strong",{children:"Prazo:"})," ",Ke(t.summary.dueDate)]})]})}),e.jsx(x,{item:!0,xs:12,sm:6,children:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(wa,{fontSize:"small",color:"action"}),e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"SLA resposta:"})," ",Ke(t.summary.responseDueDate)]})]})}),e.jsx(x,{item:!0,xs:12,sm:6,children:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(qt,{fontSize:"small",color:"action"}),e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Local:"})," ",t.summary.location??"Não informado"]})]})}),e.jsx(x,{item:!0,xs:12,sm:6,children:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(ys,{fontSize:"small",color:"action"}),e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Disciplina:"})," ",t.summary.discipline??"Não informada"]})]})})]}),e.jsxs(f,{children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(za,{fontSize:"small",color:"action"}),e.jsx(s,{variant:"subtitle2",children:"Descrição"})]}),e.jsx(s,{variant:"body2",sx:{mt:1},color:t.description?"text.primary":"text.secondary",children:t.description??"Nenhuma descrição detalhada foi informada."})]}),t.rfiQuestion?e.jsxs(f,{children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Ga,{fontSize:"small",color:"action"}),e.jsx(s,{variant:"subtitle2",children:"Pergunta RFI"})]}),e.jsx(s,{variant:"body2",sx:{mt:1},children:t.rfiQuestion}),e.jsx(s,{variant:"subtitle2",sx:{mt:2},color:"text.secondary",children:"Resposta"}),e.jsx(s,{variant:"body2",sx:{mt:1},color:t.rfiAnswer?"text.primary":"text.secondary",children:t.rfiAnswer??"Aguardando resposta."})]}):null,t.attachments.length>0?e.jsxs(f,{children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(ga,{fontSize:"small",color:"action"}),e.jsx(s,{variant:"subtitle2",children:"Anexos"})]}),e.jsx(ne,{dense:!0,sx:{mt:1},children:t.attachments.map(u=>e.jsx(re,{disablePadding:!0,children:e.jsxs(ba,{component:"a",href:u.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Re,{children:e.jsx(ga,{fontSize:"small"})}),e.jsx(Z,{primary:u.fileName,secondary:u.uploadedByUserName?`Enviado por ${u.uploadedByUserName}`:void 0})]})},u.id))})]}):null,e.jsxs(f,{children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Va,{fontSize:"small",color:"action"}),e.jsx(s,{variant:"subtitle2",children:"Links relacionados"})]}),t.links.length>0?e.jsx(ne,{dense:!0,sx:{mt:1},children:t.links.map(u=>e.jsxs(re,{secondaryAction:e.jsx(ie,{title:"Remover vínculo",children:e.jsx(V,{edge:"end",size:"small",onClick:()=>i(u.id),children:e.jsx(Ua,{fontSize:"small"})})}),children:[e.jsx(Re,{children:e.jsx(Va,{fontSize:"small"})}),e.jsx(Z,{primary:u.label??ls[u.linkType],secondary:u.externalReference??"Sem referência externa"})]},u.id))}):e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Nenhum vínculo cadastrado."}),e.jsxs(r,{spacing:1,sx:{mt:2},children:[e.jsxs(da,{size:"small",children:[e.jsx(ma,{children:"Tipo do link"}),e.jsx(Ve,{label:"Tipo do link",value:h,onChange:u=>p(u.target.value),children:fn.map(u=>e.jsx(K,{value:u,children:ls[u]},u))})]}),e.jsx(X,{size:"small",label:"Rótulo",value:D,onChange:u=>O(u.target.value)}),e.jsx(X,{size:"small",label:"URL ou referência",value:M,onChange:u=>F(u.target.value),placeholder:"https://..."}),e.jsx(G,{variant:"outlined",startIcon:e.jsx(Ht,{}),onClick:W,disabled:k||!D.trim()||!M.trim(),children:k?"Adicionando...":"Adicionar link"})]})]}),e.jsx(U,{}),e.jsxs(f,{children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Kt,{fontSize:"small",color:"action"}),e.jsx(s,{variant:"subtitle2",children:"Comentários"})]}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:[t.comments.length," registro(s)"]})]}),e.jsx(X,{sx:{mt:2},multiline:!0,minRows:3,fullWidth:!0,value:m,onChange:u=>C(u.target.value),placeholder:"Compartilhe uma atualização ou dúvida..."}),e.jsxs(r,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mt:1},children:[e.jsx(Ss,{control:e.jsx(Ye,{checked:w,onChange:u=>P(u.target.checked)}),label:"Comentário interno"}),e.jsx(G,{variant:"contained",endIcon:e.jsx(Ut,{}),onClick:N,disabled:d||m.trim().length===0,children:d?"Enviando...":"Adicionar comentário"})]}),t.comments.length>0?e.jsx(r,{spacing:1.5,sx:{mt:2},children:[...t.comments].reverse().map(u=>e.jsxs(Y,{variant:"outlined",sx:{p:1.5},children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(ze,{sx:{width:28,height:28},children:(u.authorName??"ARX")[0]}),e.jsxs(f,{children:[e.jsx(s,{variant:"subtitle2",children:u.authorName??"Usuário"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:vn(u.createdAt)})]})]}),u.isInternal?e.jsx(S,{size:"small",label:"Interno",color:"secondary"}):null]}),e.jsx(s,{variant:"body2",sx:{mt:1.5},children:u.message}),u.attachments.length>0?e.jsx(r,{direction:"row",spacing:1,sx:{mt:1},children:u.attachments.map(q=>e.jsx(S,{label:q.fileName,size:"small",icon:e.jsx(ga,{fontSize:"small"}),component:"a",clickable:!0,href:q.fileUrl,target:"_blank",rel:"noopener noreferrer"},q.id))}):null]},u.id))}):e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Nenhum comentário registrado ainda."})]})]}):e.jsx(r,{alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:e.jsx(s,{color:"text.secondary",align:"center",children:"Selecione uma issue na lista para visualizar os detalhes."})})})]})},yn=()=>{const[a,t]=l.useState([]),[n,o]=l.useState(""),[c,g]=l.useState("all"),[b,i]=l.useState([]),[d,k]=l.useState(!1),[m,C]=l.useState(""),[w,P]=l.useState([]),[D,O]=l.useState([]),[M,F]=l.useState(!1),[h,p]=l.useState(0),[N,W]=l.useState(!1),[u,q]=l.useState(!1),[H,xe]=l.useState(null),[Ce,pe]=l.useState(null),[Je,Qe]=l.useState(!1),[pa,Ze]=l.useState(!1);l.useEffect(()=>{(async()=>{try{const v=await $a.getAll();t(v),v.length>0&&o(v[0].id)}catch(v){console.error("Erro ao carregar projetos:",v)}})()},[]),l.useEffect(()=>{(async()=>{if(!n){i([]);return}k(!0);try{const v=c==="all"?void 0:c==="rfis",B=await Te.getByProject(n,{isRfi:v});i(B)}catch(v){console.error("Erro ao carregar issues:",v)}finally{k(!1)}})()},[n,c,h]);const ja=l.useMemo(()=>{const j=m.trim().toLowerCase();return b.filter(v=>{const B=j.length===0||[v.referenceCode,v.title,v.assignedToUserName,v.reportedByUserName,v.respondedByUserName,v.discipline,v.location].filter(le=>!!le).some(le=>le.toLowerCase().includes(j)),E=w.length===0||w.includes(v.status),Q=D.length===0||D.includes(v.priority),_e=!M||v.isBlocking;return B&&E&&Q&&_e})},[b,m,w,D,M]),Me=l.useMemo(()=>{const j=Date.now(),v=new Set([ee.Open,ee.InAnalysis,ee.AwaitingResponse]),B=b.length,E=b.filter(le=>v.has(le.status)).length,Q=b.filter(le=>le.dueDate&&!Fs(le.status)&&new Date(le.dueDate).getTime()<j).length,_e=b.filter(le=>le.isBlocking).length;return{total:B,open:E,overdue:Q,blocking:_e}},[b]),y=l.useMemo(()=>[{field:"referenceCode",headerName:"Código",width:150},{field:"title",headerName:"Título",flex:1,minWidth:240,renderCell:j=>e.jsxs(r,{spacing:.5,sx:{py:.5},children:[e.jsx(s,{variant:"body2",fontWeight:600,children:j.row.title}),e.jsxs(r,{direction:"row",spacing:.5,alignItems:"center",children:[j.row.isRfi?e.jsx(S,{size:"small",label:"RFI",color:"secondary"}):null,j.row.isBlocking?e.jsx(S,{size:"small",label:"Bloqueio",color:"error"}):null]})]})},{field:"status",headerName:"Status",width:160,renderCell:j=>{const v=j.value,B=Le[v];return e.jsx(S,{size:"small",label:B.label,color:B.color})}},{field:"priority",headerName:"Prioridade",width:150,renderCell:j=>{const v=j.value,B=He[v];return e.jsx(S,{size:"small",label:B.label,color:B.color,variant:v===Pe.P4_Low?"outlined":"filled"})}},{field:"assignedToUserName",headerName:"Responsável",width:190,valueGetter:(j,v)=>v.assignedToUserName??"-"},{field:"dueDate",headerName:"Prazo",width:140,renderCell:j=>{const v=j.row;if(!v.dueDate)return"-";const B=Aa(v);return e.jsx(s,{variant:"body2",color:B?"error":void 0,fontWeight:B?600:400,children:Ke(v.dueDate)})}},{field:"responseDueDate",headerName:"SLA",width:140,valueGetter:(j,v)=>Ke(v.responseDueDate)},{field:"type",headerName:"Tipo",width:170,valueFormatter:j=>Os[j]},{field:"createdAt",headerName:"Criado em",width:150,valueGetter:(j,v)=>Ke(v.createdAt)}],[]),R=async j=>{xe(j),W(!0),q(!0);try{const v=await Te.getById(j);pe(v)}catch(v){console.error("Erro ao carregar detalhes da issue:",v),pe(null)}finally{q(!1)}},$=async j=>{if(!(!H||!Ce||Ce.summary.status===j))try{await Te.updateStatus(H,j);const v=new Date().toISOString();pe(B=>B&&{...B,summary:{...B.summary,status:j,updatedAt:v}}),i(B=>B.map(E=>E.id===H?{...E,status:j,updatedAt:v}:E))}catch(v){console.error("Erro ao atualizar status da issue:",v)}},L=async j=>{if(H){Qe(!0);try{const v=await Te.addComment(H,j);pe(B=>B&&{...B,comments:[...B.comments,v]})}catch(v){console.error("Erro ao adicionar comentário:",v)}finally{Qe(!1)}}},je=async j=>{if(H){Ze(!0);try{const v=await Te.addLink(H,j);pe(B=>B&&{...B,links:[...B.links,v]})}catch(v){console.error("Erro ao adicionar link:",v)}finally{Ze(!1)}}},we=async j=>{if(H)try{await Te.removeLink(H,j),pe(v=>v&&{...v,links:v.links.filter(B=>B.id!==j)})}catch(v){console.error("Erro ao remover link:",v)}},ge=()=>{C(""),P([]),O([]),F(!1)};return e.jsxs(f,{children:[e.jsxs(r,{direction:{xs:"column",md:"row"},spacing:2,justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},sx:{mb:3},children:[e.jsxs(f,{children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"Issues & RFIs"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Centralize o acompanhamento de problemas, RFIs e bloqueios críticos das obras."})]}),e.jsxs(r,{direction:"row",spacing:1,children:[e.jsx(G,{variant:"outlined",startIcon:e.jsx(Cs,{}),onClick:ge,children:"Limpar filtros"}),e.jsx(G,{variant:"contained",startIcon:e.jsx(Ea,{}),onClick:()=>p(j=>j+1),disabled:d,children:"Atualizar"})]})]}),e.jsxs(x,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(x,{item:!0,xs:12,sm:6,md:3,children:e.jsx(I,{children:e.jsxs(A,{children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(f,{children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Registros totais"}),e.jsx(s,{variant:"h5",children:Me.total})]}),e.jsx(ze,{sx:{bgcolor:"primary.main"},children:e.jsx(Ma,{})})]}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:[b.filter(j=>j.isRfi).length," RFIs catalogadas"]})]})})}),e.jsx(x,{item:!0,xs:12,sm:6,md:3,children:e.jsx(I,{children:e.jsxs(A,{children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(f,{children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Em andamento"}),e.jsx(s,{variant:"h5",children:Me.open})]}),e.jsx(ze,{sx:{bgcolor:"info.main"},children:e.jsx(ws,{})})]}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Priorize respostas e aprovações pendentes"})]})})}),e.jsx(x,{item:!0,xs:12,sm:6,md:3,children:e.jsx(I,{children:e.jsxs(A,{children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(f,{children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Em atraso"}),e.jsx(s,{variant:"h5",children:Me.overdue})]}),e.jsx(ze,{sx:{bgcolor:"warning.main"},children:e.jsx(Wt,{})})]}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Prazos expirados aguardando ação"})]})})}),e.jsx(x,{item:!0,xs:12,sm:6,md:3,children:e.jsx(I,{children:e.jsxs(A,{children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(f,{children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Bloqueios críticos"}),e.jsx(s,{variant:"h5",children:Me.blocking})]}),e.jsx(ze,{sx:{bgcolor:"error.main"},children:e.jsx(Ft,{})})]}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Itens impedindo avanço das frentes"})]})})})]}),e.jsxs(r,{spacing:2,sx:{mb:3},children:[e.jsxs(r,{direction:{xs:"column",lg:"row"},spacing:2,alignItems:{xs:"stretch",lg:"center"},children:[e.jsxs(X,{select:!0,label:"Projeto",size:"small",value:n,onChange:j=>o(j.target.value),sx:{minWidth:220},children:[a.map(j=>e.jsx(K,{value:j.id,children:j.name},j.id)),a.length===0?e.jsx(K,{value:"",disabled:!0,children:"Nenhum projeto cadastrado"}):null]}),e.jsxs(xa,{exclusive:!0,size:"small",value:c,onChange:(j,v)=>{v&&g(v)},color:"primary",sx:{flexWrap:"wrap"},children:[e.jsx(ce,{value:"all",children:"Todos"}),e.jsx(ce,{value:"issues",children:"Issues"}),e.jsx(ce,{value:"rfis",children:"RFIs"})]}),e.jsx(X,{size:"small",fullWidth:!0,placeholder:"Buscar por código, título, responsável...",value:m,onChange:j=>C(j.target.value),InputProps:{startAdornment:e.jsx(vs,{position:"start",children:e.jsx(Ra,{fontSize:"small"})})}})]}),e.jsxs(r,{direction:{xs:"column",lg:"row"},spacing:2,alignItems:{xs:"stretch",lg:"center"},children:[e.jsxs(da,{size:"small",sx:{minWidth:200},children:[e.jsx(ma,{children:"Status"}),e.jsx(Ve,{multiple:!0,label:"Status",value:w,onChange:j=>P(j.target.value),renderValue:j=>j.length===0?"Todos":e.jsx(r,{direction:"row",spacing:.5,flexWrap:"wrap",useFlexGap:!0,children:j.map(v=>e.jsx(S,{size:"small",label:Le[v].label},v))}),children:Ws.map(j=>e.jsxs(K,{value:j,children:[e.jsx(Ka,{checked:w.indexOf(j)>-1}),e.jsx(Z,{primary:Le[j].label})]},j))})]}),e.jsxs(da,{size:"small",sx:{minWidth:200},children:[e.jsx(ma,{children:"Prioridade"}),e.jsx(Ve,{multiple:!0,label:"Prioridade",value:D,onChange:j=>O(j.target.value),renderValue:j=>j.length===0?"Todas":e.jsx(r,{direction:"row",spacing:.5,flexWrap:"wrap",useFlexGap:!0,children:j.map(v=>e.jsx(S,{size:"small",label:He[v].label},v))}),children:gn.map(j=>e.jsxs(K,{value:j,children:[e.jsx(Ka,{checked:D.indexOf(j)>-1}),e.jsx(Z,{primary:He[j].label})]},j))})]}),e.jsx(Ss,{control:e.jsx(Ye,{checked:M,onChange:j=>F(j.target.checked)}),label:"Somente bloqueios"})]})]}),e.jsx(f,{sx:{height:640,width:"100%"},children:e.jsx(Ns,{rows:ja,columns:y,loading:d,getRowId:j=>j.id,onRowClick:j=>R(j.row.id),disableRowSelectionOnClick:!0,sx:{backgroundColor:"background.paper","& .MuiDataGrid-cell:focus":{outline:"none"}},initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10,25,50]})}),e.jsx(bn,{open:N,issue:Ce,loading:u,onClose:()=>W(!1),onChangeStatus:$,onAddComment:L,onAddLink:je,onRemoveLink:we,addingComment:Je,addingLink:pa})]})},Cn=({module:a})=>e.jsxs(f,{children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[e.jsx(s,{variant:"h4",component:"h1",children:a.label}),e.jsx(S,{label:"Blueprint",color:"primary",variant:"outlined"})]}),e.jsx(s,{variant:"body1",color:"text.secondary",paragraph:!0,children:a.description}),e.jsx(x,{container:!0,spacing:3,sx:{mt:1},children:a.pages.map(t=>e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(I,{elevation:1,sx:{height:"100%"},children:e.jsxs(A,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:t.name}),e.jsx(s,{variant:"body2",color:"text.secondary",children:t.description})]})})},t.name))})]}),wn=[{title:"Painel do Usuário",description:"Uma área dedicada para gestores, engenheiros e coordenadores acompanharem tarefas, indicadores e atividades do dia a dia.",highlights:["Visão unificada de projetos em andamento","Alertas de prazos críticos e pendências pessoais","Aplicativos móveis conectados para campo e escritório"]},{title:"Comunicação & Colaboração",description:"Espaço para compartilhar atualizações, anexos e decisões com todo o time do projeto.",highlights:["Threads por disciplina, frente e empreendimento","Workflow de aprovações com histórico completo","Integração com ARXIS ChatOps (Teams, Slack e e-mail)"]}],Sn=[{title:"Centro Financeiro",description:"Ambiente consolidado para orçamentos, contratos, requisições e cronograma físico-financeiro.",highlights:["Monitoramento de CAPEX vs OPEX por empreendimento","Dashboards de fluxo de caixa previstos e realizados","Integração planejada com ERPs líderes do mercado"]},{title:"Compliance & Auditoria",description:"Controles para garantir aderência a normas, garantir rastreabilidade e gerar relatórios de auditoria.",highlights:["Registro de trilhas e logs de aprovação","Modelos personalizáveis de relatórios financeiros","Plano de contas alinhado ao ERP corporativo"]}],In=[{id:"arxis-platform",name:"ARXIS Platform",audience:"Gestão integrada de obras e portfólios",description:"Suite principal com dashboards 360º, módulos de obra, controles operacionais e integrações abertas.",valueProps:["Base única para cronogramas, RFIs, tarefas e qualidade","KPIs em tempo real com alertas inteligentes","Biblioteca de templates para acelerar implantação"],pricingNote:"Licenciamento SaaS por tenant ou obra ativa"},{id:"arxis-vr",name:"ARXIS VR",audience:"Imersão virtual e validação colaborativa",description:"Experiência VR para revisões de projeto, simulações de execução e treinamentos imersivos.",valueProps:["Passeios virtuais com contexto BIM e dados vinculados","Marcadores colaborativos para revisar interferências","Suporte a óculos Meta Quest e HTC Vive"],pricingNote:"Add-on por estação VR habilitada (coming soon)",isComingSoon:!0},{id:"arxis-project",name:"ARXIS Project",audience:"Planejamento e controle de cronogramas",description:"Camada avançada de planejamento com análises 4D, curvas S e simulações de produtividade.",valueProps:["Sincronização com MS Project, Primavera P6 e Excel","Modelagem de cenários “e se” e replanejamento guiado","Exportação executiva para diretoria e clientes"],pricingNote:"Complemento para equipes de planejamento e PMOs"},{id:"arxis-structure",name:"ARXIS Structure",audience:"Gestão de estruturas e monitoramento técnico",description:"Módulo especializado em monitoramento de estruturas, inspeções técnicas e manutenção preventiva.",valueProps:["Dashboards de instrumentação estruturais e alarmes","Registro de inspeções conforme normas ABNT/NBR","Integração com sensores IoT e relatórios automatizados"],pricingNote:"Pacote premium para estruturas críticas e infraestrutura",isComingSoon:!0}],An=[{id:"arxis-desktop",name:"ARXIS Desktop",description:"Instalador principal da plataforma para Windows/macOS com acesso offline.",downloadUrl:void 0,isAvailable:!1},{id:"arxis-vr-client",name:"ARXIS VR Client",description:"Aplicativo VR com suporte a controllers e sincronização em tempo real.",downloadUrl:void 0,isAvailable:!1},{id:"arxis-project-tools",name:"ARXIS Project Tools",description:"Pacote de conectores para MS Project, Primavera e integrações 4D.",downloadUrl:void 0,isAvailable:!1},{id:"arxis-structure-suite",name:"ARXIS Structure Suite",description:"Coleção de apps para inspeções estruturais e relatórios técnicos.",downloadUrl:void 0,isAvailable:!1}],ka=({icon:a,title:t})=>e.jsxs(r,{direction:"row",spacing:1.5,alignItems:"center",sx:{mb:3},children:[a,e.jsx(s,{variant:"h4",component:"h2",fontWeight:600,children:t})]}),cs=({title:a,spaces:t,icon:n,accent:o})=>e.jsxs(Y,{variant:"outlined",sx:{p:{xs:3,md:4},borderRadius:4},children:[e.jsx(ka,{title:a,icon:n}),e.jsx(x,{container:!0,spacing:3,children:t.map(c=>e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(Y,{elevation:0,sx:{p:3,borderRadius:3,height:"100%",border:g=>`1px solid ${Xa(g.palette[o].main,.24)}`,backgroundColor:g=>Xa(g.palette[o].main,.06)},children:[e.jsx(s,{variant:"h6",fontWeight:600,gutterBottom:!0,children:c.title}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:c.description}),e.jsx(ne,{dense:!0,children:c.highlights.map(g=>e.jsxs(re,{sx:{p:0,mb:1},children:[e.jsx(Re,{sx:{minWidth:32,color:b=>b.palette[o].main},children:e.jsx(As,{fontSize:"small"})}),e.jsx(Z,{primaryTypographyProps:{variant:"body2"},primary:g})]},g))})]})},c.title))})]}),kn=({offering:a})=>e.jsxs(I,{variant:"outlined",sx:{height:"100%",borderRadius:4,borderColor:a.isComingSoon?"warning.light":"divider"},children:[e.jsxs(A,{children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:2},children:[e.jsx(s,{variant:"h6",fontWeight:600,children:a.name}),a.isComingSoon&&e.jsx(S,{label:"Em breve",color:"warning",size:"small"})]}),e.jsx(s,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:a.audience}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a.description}),e.jsx(ne,{dense:!0,children:a.valueProps.map(t=>e.jsxs(re,{sx:{p:0,mb:1},children:[e.jsx(Re,{sx:{minWidth:32,color:"primary.main"},children:e.jsx(As,{fontSize:"small"})}),e.jsx(Z,{primaryTypographyProps:{variant:"body2"},primary:t})]},t))})]}),e.jsx(Xt,{sx:{px:3,pb:3,pt:0},children:e.jsx(S,{label:a.pricingNote,variant:"outlined",color:"primary"})})]}),Pn=({asset:a})=>e.jsx(I,{variant:"outlined",sx:{height:"100%",borderRadius:3},children:e.jsxs(A,{children:[e.jsxs(r,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[e.jsx(Is,{color:a.isAvailable?"primary":"disabled"}),e.jsxs(f,{children:[e.jsx(s,{variant:"h6",fontWeight:600,children:a.name}),e.jsx(s,{variant:"body2",color:"text.secondary",children:a.description})]})]}),e.jsx(U,{sx:{my:2}}),e.jsx(G,{variant:a.isAvailable?"contained":"outlined",color:a.isAvailable?"primary":"inherit",component:"a",href:a.downloadUrl??"#",target:a.isAvailable?"_blank":void 0,rel:a.isAvailable?"noopener noreferrer":void 0,disabled:!a.isAvailable,fullWidth:!0,children:a.isAvailable?"Baixar instalador":"Link disponível em breve"}),!a.isAvailable&&e.jsx(s,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"Atualize este cartão com o link final quando o instalador estiver pronto."})]})}),Rn=()=>e.jsx(f,{sx:{backgroundColor:"background.default",minHeight:"100vh",py:{xs:6,md:10}},children:e.jsxs(_a,{maxWidth:"lg",children:[e.jsx(Y,{elevation:0,sx:{mb:6,p:{xs:4,md:6},borderRadius:5,background:a=>`linear-gradient(135deg, ${a.palette.primary.main}0D, ${a.palette.secondary.main}1A)`},children:e.jsxs(r,{spacing:3,children:[e.jsx(S,{label:"Lançamento",color:"primary",sx:{alignSelf:"flex-start"}}),e.jsx(s,{variant:"h3",component:"h1",fontWeight:700,children:"Marketplace ARXIS"}),e.jsx(s,{variant:"h6",color:"text.secondary",sx:{maxWidth:720},children:"Centralize a gestão das soluções ARXIS, descubra complementos para as suas operações e prepare os ambientes de usuários e financeiro para a adoção completa da plataforma."}),e.jsxs(r,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(G,{variant:"contained",color:"primary",size:"large",children:"Solicitar proposta completa"}),e.jsx(G,{variant:"outlined",color:"primary",size:"large",children:"Agendar demonstração"})]})]})}),e.jsxs(r,{spacing:6,children:[e.jsx(cs,{title:"Espaços pensados para o usuário",icon:e.jsx(Gt,{fontSize:"large",color:"primary"}),spaces:wn,accent:"primary"}),e.jsx(cs,{title:"Espaços financeiros e governança",icon:e.jsx(Vt,{fontSize:"large",color:"primary"}),spaces:Sn,accent:"secondary"}),e.jsxs(f,{children:[e.jsx(ka,{icon:e.jsx(us,{color:"primary"}),title:"Pacotes e complementos"}),e.jsx(x,{container:!0,spacing:3,children:In.map(a=>e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(kn,{offering:a})},a.id))})]}),e.jsxs(f,{children:[e.jsx(ka,{icon:e.jsx(Is,{color:"primary"}),title:"Downloads oficiais"}),e.jsx(x,{container:!0,spacing:3,children:An.map(a=>e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(Pn,{asset:a})},a.id))})]})]})]})}),ve=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),Se={totalBudget:128e6,committed:745e5,actual:582e5,projectedEnd:1318e5},Dn=[{category:"Estruturas",planned:32,actual:34},{category:"Acabamentos",planned:24,actual:21},{category:"Instalações",planned:18,actual:19},{category:"Infraestrutura",planned:16,actual:17},{category:"Mobilização",planned:10,actual:7}],zn=[{month:"Jan/26",planned:9.2,actual:9.1,forecast:9.4},{month:"Fev/26",planned:10.4,actual:10.2,forecast:10.8},{month:"Mar/26",planned:11.6,actual:11.9,forecast:12.4},{month:"Abr/26",planned:12.1,actual:12.4,forecast:12.9},{month:"Mai/26",planned:12.8,actual:13.6,forecast:14.3},{month:"Jun/26",planned:13.3,actual:14.8,forecast:15.2}],Nn=[{title:"Pacote concreto fck45",variance:"+6,4%",reason:"Reposição de estoque com frete adicional",owner:"Suprimentos"},{title:"Mão de obra elétrica",variance:"+4,2%",reason:"Horas extras para adequação a norma",owner:"Coordenação Instalações"},{title:"Acabamento fachada",variance:"-3,1%",reason:"Negociação com fornecedor e otimização de perdas",owner:"Planejamento"}],Bn=[{channel:"Capital próprio",value:35},{channel:"Financiamento bancário",value:45},{channel:"Incentivos fiscais",value:12},{channel:"Parcerias comerciais",value:8}],ds={conservador:{costVariation:3,scheduleImpact:2,materialInflation:5},base:{costVariation:6,scheduleImpact:4,materialInflation:8},agressivo:{costVariation:9,scheduleImpact:1,materialInflation:11}},Mn=()=>{const[a,t]=l.useState(ds.base),[n,o]=l.useState("base"),c=l.useMemo(()=>{const i=Se.projectedEnd,d=Se.totalBudget*a.costVariation/100,k=Se.totalBudget*a.scheduleImpact/100,m=Se.totalBudget*a.materialInflation/100;return{newProjection:i+d+k+m,delta:d+k+m,costImpact:d,schedulePenalty:k,inflationImpact:m}},[a]),g=i=>{const d={...a,...i};t(d),o("base")},b=(i,d)=>{d&&(o(d),t(ds[d]))};return e.jsx(f,{children:e.jsxs(r,{spacing:3,children:[e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"Controle Financeiro Integrado"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Consolide orçamento, medições e projeções de caixa com simulações em tempo real."})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(Yt,{color:"primary"}),title:"Orçamento aprovado",subheader:"Total alocado para a obra"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:ve(Se.totalBudget)}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Inclui contratos firmados e contingência."})]})]})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(ya,{color:"success"}),title:"Gasto realizado",subheader:"Notas fiscais + medições"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:ve(Se.actual)}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Atualizado com integrações ERP / Arxis."})]})]})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(Jt,{color:"secondary"}),title:"Comprometido",subheader:"Pedidos de compra e contratos"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:ve(Se.committed)}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Inclui reservas e aditivos em aprovação."})]})]})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(Qt,{color:"warning"}),title:"Projeção de término",subheader:"Com impactos e ajustes"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:ve(Se.projectedEnd)}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Simulação considerando riscos conhecidos."})]})]})})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:7,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Comparativo planejado vs realizado",subheader:"Valores em milhões de reais"}),e.jsx(A,{children:e.jsx(f,{height:310,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Xe,{data:Dn,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"category"}),e.jsx(de,{}),e.jsx(se,{formatter:i=>`${i??0} mi`}),e.jsx(oe,{}),e.jsx(Be,{name:"Planejado",dataKey:"planned",fill:"#1976d2",radius:[6,6,0,0]}),e.jsx(Be,{name:"Realizado",dataKey:"actual",fill:"#2e7d32",radius:[6,6,0,0]})]})})})})]})}),e.jsx(x,{item:!0,xs:12,md:5,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Hotspots de variação"}),e.jsx(A,{children:e.jsx(ne,{children:Nn.map(i=>e.jsxs(Oe.Fragment,{children:[e.jsx(re,{alignItems:"flex-start",children:e.jsx(Z,{primary:e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,children:i.title}),e.jsx(S,{label:i.variance,color:i.variance.startsWith("-")?"success":"error",size:"small"})]}),secondary:e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",children:i.reason}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Responsável: ",i.owner]})]})})}),e.jsx(U,{component:"li"})]},i.title))})})]})})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,lg:6,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Simulador de cenários",subheader:"Ajuste hipóteses para prever o impacto no resultado final"}),e.jsx(A,{children:e.jsxs(r,{spacing:3,children:[e.jsxs(xa,{exclusive:!0,value:n,onChange:b,size:"small",children:[e.jsx(ce,{value:"conservador",children:"Conservador"}),e.jsx(ce,{value:"base",children:"Base"}),e.jsx(ce,{value:"agressivo",children:"Agressivo"})]}),e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"subtitle2",children:"Variação de custos diretos"}),e.jsx(na,{value:a.costVariation,onChange:(i,d)=>g({costVariation:d}),step:1,min:0,max:15,valueLabelDisplay:"auto"})]}),e.jsxs(r,{spacing:1,children:[e.jsxs(s,{variant:"subtitle2",children:["Impacto de cronograma (dias)",e.jsx(s,{component:"span",variant:"caption",color:"text.secondary",sx:{ml:1},children:"Convertido em impacto financeiro estimado"})]}),e.jsx(na,{value:a.scheduleImpact,onChange:(i,d)=>g({scheduleImpact:d}),step:1,min:0,max:10,valueLabelDisplay:"auto"})]}),e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"subtitle2",children:"Inflação de materiais estratégicos"}),e.jsx(na,{value:a.materialInflation,onChange:(i,d)=>g({materialInflation:d}),step:1,min:0,max:15,valueLabelDisplay:"auto"})]}),e.jsx(Y,{variant:"outlined",sx:{p:2,borderRadius:2,backgroundColor:"action.hover"},children:e.jsxs(r,{spacing:1,children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",children:[e.jsx(s,{variant:"subtitle2",children:"Nova projeção total"}),e.jsx(s,{variant:"h6",fontWeight:700,children:ve(c.newProjection)})]}),e.jsx(U,{}),e.jsxs(r,{direction:"row",justifyContent:"space-between",children:[e.jsx(s,{variant:"body2",color:"text.secondary",children:"Variação acumulada"}),e.jsxs(s,{variant:"body1",color:c.delta>0?"error.main":"success.main",children:[c.delta>0?"+":"",ve(c.delta)]})]}),e.jsxs(r,{direction:{xs:"column",md:"row"},spacing:1,children:[e.jsx(S,{icon:e.jsx(Zt,{fontSize:"small"}),label:`Custos: ${ve(c.costImpact)}`,color:"primary",variant:"outlined"}),e.jsx(S,{icon:e.jsx(Ba,{fontSize:"small"}),label:`Cronograma: ${ve(c.schedulePenalty)}`,color:"secondary",variant:"outlined"}),e.jsx(S,{icon:e.jsx(ya,{fontSize:"small"}),label:`Inflação: ${ve(c.inflationImpact)}`,color:"warning",variant:"outlined"})]})]})})]})})]})}),e.jsx(x,{item:!0,xs:12,lg:6,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Fluxo de caixa previsto",subheader:"Valores em milhões, incluindo tendência preditiva"}),e.jsx(A,{children:e.jsx(f,{height:310,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(zr,{data:zn,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorPlanned",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#1976d2",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#1976d2",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorForecast",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ed6c02",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#ed6c02",stopOpacity:0})]})]}),e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"month"}),e.jsx(de,{}),e.jsx(se,{formatter:i=>`${i??0} mi`}),e.jsx(oe,{}),e.jsx(oa,{type:"monotone",dataKey:"planned",stroke:"#1976d2",fill:"url(#colorPlanned)",name:"Planejado"}),e.jsx(oa,{type:"monotone",dataKey:"actual",stroke:"#2e7d32",fill:"#2e7d32",fillOpacity:.15,name:"Realizado"}),e.jsx(oa,{type:"monotone",dataKey:"forecast",stroke:"#ed6c02",fill:"url(#colorForecast)",name:"Preditivo"})]})})})})]})})]}),e.jsxs(I,{elevation:2,children:[e.jsx(_,{title:"Estrutura de funding e capital",subheader:"Distribuição dos recursos do projeto"}),e.jsx(A,{children:e.jsx(f,{height:300,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Wa,{data:Bn,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"channel"}),e.jsx(de,{}),e.jsx(se,{formatter:i=>`${i??0}%`}),e.jsx(ke,{type:"monotone",dataKey:"value",stroke:"#9c27b0",strokeWidth:2,name:"Participação"})]})})})})]})]})})},ra=[{week:"Semana 1",baseline:74,predicted:78,lower:72,upper:83},{week:"Semana 2",baseline:76,predicted:79,lower:73,upper:85},{week:"Semana 3",baseline:75,predicted:80,lower:74,upper:86},{week:"Semana 4",baseline:77,predicted:82,lower:75,upper:88},{week:"Semana 5",baseline:78,predicted:84,lower:76,upper:90}],_n=[{dimension:"Prazo",actual:62,predicted:70},{dimension:"Custo",actual:58,predicted:65},{dimension:"Qualidade",actual:74,predicted:79},{dimension:"Segurança",actual:81,predicted:85},{dimension:"Satisfação",actual:69,predicted:76}],En=[{month:"Ago/25",expected:12.4,real:12.7,anomalies:0},{month:"Set/25",expected:12.6,real:13.8,anomalies:1},{month:"Out/25",expected:12.8,real:13.3,anomalies:0},{month:"Nov/25",expected:13,real:14.7,anomalies:2},{month:"Dez/25",expected:13.2,real:13.4,anomalies:0},{month:"Jan/26",expected:13.5,real:14.2,anomalies:1}],Tn=[{title:"Risco de atraso no bloco B",impact:"Médio",description:"Sequência de tarefas com alta variabilidade e dependências críticas.",action:"Antecipar equipe de instalações elétricas e ativar plano de contingência."},{title:"Economia potencial em acabamento",impact:"Alto",description:"Cenários indicam margem para renegociar 3% com fornecedor atual.",action:"Acionar procurement para rodada express com fornecedores homologados."},{title:"Alertas de segurança crescente",impact:"Alto",description:"Churn de checklists NR-35 em modo offline aumentou 18% na última semana.",action:"Direcionar task force de segurança e reforçar treinamento just-in-time."}],Ln={regressao:"Regressão multivariada c/ features de produtividade, clima e logística.",arvore:"Gradient boosting calibrado com 12 meses de histórico e 92% de precisão.",rede:"Rede neural temporal (LSTM) treinada em série de dados de produção e custos."},On=()=>{const[a,t]=l.useState("arvore"),[n,o]=l.useState(!0),[c,g]=l.useState(80),b=l.useMemo(()=>_n.map(i=>({...i,predicted:Math.round(i.predicted*(c/80))})),[c]);return e.jsx(f,{children:e.jsxs(r,{spacing:3,children:[e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"Analytics Preditivo & Inteligência Operacional"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Antecipe riscos, oportunidades e gargalos combinando modelos estatísticos e machine learning."})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:4,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(ps,{color:"primary"}),title:"Modelo estatístico ativo",subheader:"Curadoria automática pela plataforma"}),e.jsxs(A,{children:[e.jsxs(xa,{orientation:"vertical",exclusive:!0,value:a,onChange:(i,d)=>d&&t(d),fullWidth:!0,children:[e.jsx(ce,{value:"regressao",children:"Regressão multivariada"}),e.jsx(ce,{value:"arvore",children:"Gradient Boosting"}),e.jsx(ce,{value:"rede",children:"Rede Neural Temporal"})]}),e.jsx(U,{sx:{my:2}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:Ln[a]})]})]})}),e.jsx(x,{item:!0,xs:12,md:8,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Produtividade prevista por sprint",subheader:"Índice composto (0-100) com intervalo de confiança",action:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Auto refresh"}),e.jsx(Ye,{checked:n,onChange:i=>o(i.target.checked)})]})}),e.jsxs(A,{children:[e.jsx(f,{height:300,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Wa,{data:ra,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"week"}),e.jsx(de,{}),e.jsx(se,{}),e.jsx(oe,{}),e.jsx(ke,{type:"monotone",dataKey:"baseline",stroke:"#9e9e9e",name:"Histórico",strokeDasharray:"5 5"}),e.jsx(ke,{type:"monotone",dataKey:"predicted",stroke:"#1976d2",name:"Previsto",strokeWidth:2}),e.jsx(ke,{type:"monotone",dataKey:"lower",stroke:"#ed6c02",name:"Limite inferior",strokeDasharray:"2 4"}),e.jsx(ke,{type:"monotone",dataKey:"upper",stroke:"#2e7d32",name:"Limite superior",strokeDasharray:"2 4"})]})})}),e.jsxs(Ue,{icon:e.jsx(er,{}),severity:"info",sx:{mt:2},children:["O cenário selecionado prevê ganho de ",Math.round(ra[ra.length-1].predicted-ra[0].baseline)," pontos no índice de produtividade ao longo das próximas 5 semanas."]})]})]})})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Radar de risco consolidado",subheader:"Ajuste a faixa de confiança para afinar a previsão",action:e.jsxs(r,{spacing:1,sx:{minWidth:200},children:[e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Nível de confiança: ",c,"%"]}),e.jsx(na,{value:c,onChange:(i,d)=>g(d),step:5,min:60,max:95,valueLabelDisplay:"auto"})]})}),e.jsx(A,{children:e.jsx(f,{height:280,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Ps,{data:b,children:[e.jsx(Rs,{}),e.jsx(Ds,{dataKey:"dimension"}),e.jsx(zs,{angle:45,domain:[0,100]}),e.jsx(ha,{name:"Atual",dataKey:"actual",stroke:"#9e9e9e",fill:"#9e9e9e",fillOpacity:.2}),e.jsx(ha,{name:"Previsto",dataKey:"predicted",stroke:"#1976d2",fill:"#1976d2",fillOpacity:.3}),e.jsx(oe,{}),e.jsx(se,{})]})})})})]})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Detecção de anomalias",subheader:"Cruza execução física, custo e telemetria"}),e.jsx(A,{children:e.jsx(f,{height:280,children:e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Nr,{data:En,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"month"}),e.jsx(de,{yAxisId:"left"}),e.jsx(de,{yAxisId:"right",orientation:"right"}),e.jsx(se,{}),e.jsx(oe,{}),e.jsx(oa,{yAxisId:"left",type:"monotone",dataKey:"expected",name:"Esperado",stroke:"#1976d2",fill:"#1976d2",fillOpacity:.1}),e.jsx(ke,{yAxisId:"left",type:"monotone",dataKey:"real",name:"Real",stroke:"#2e7d32",strokeWidth:2}),e.jsx(Be,{yAxisId:"right",dataKey:"anomalies",name:"Alertas",fill:"#ed6c02"})]})})})})]})})]}),e.jsxs(I,{elevation:2,children:[e.jsx(_,{title:"Recomendações de IA",subheader:"Sugestões priorizadas por impacto"}),e.jsx(A,{children:e.jsx(ne,{children:Tn.map(i=>e.jsxs(re,{alignItems:"flex-start",children:[e.jsx(Re,{children:e.jsx(Da,{color:"primary"})}),e.jsx(Z,{primary:e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,children:i.title}),e.jsx(S,{label:i.impact,color:i.impact==="Alto"?"error":"warning",size:"small"})]}),secondary:e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"body2",color:"text.secondary",children:i.description}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Ação sugerida: ",i.action]})]})})]},i.title))})})]}),e.jsx(Ue,{icon:e.jsx(ar,{}),severity:"success",children:"Os insights são recalibrados a cada 3 horas combinando telemetria do canteiro, dados financeiros e histórico de produtividade."})]})})},Wn={"BIM & Design":[{name:"Revit Connector",status:"Online",lastSync:"há 18 minutos",owner:"Modelagem 4D",description:"Sincroniza parâmetros, famílias e revisões com controle de versão.",metrics:[{label:"Elementos sincronizados",value:"12.487"},{label:"Tempo médio",value:"00:03:21"}]},{name:"Navisworks Clash",status:"Parcial",lastSync:"há 1 hora",owner:"Coordenação BIM",description:"Importa relatórios de conflitos e abre issues automáticas.",metrics:[{label:"Clashes tratados",value:"92%"},{label:"Pendências",value:"14"}]}],"ERP & Financeiro":[{name:"Totvs Protheus",status:"Online",lastSync:"há 6 minutos",owner:"Controladoria",description:"Sincroniza pedidos de compra, medições e centros de custo.",metrics:[{label:"Notas fiscais",value:"1.248"},{label:"Pedidos em trânsito",value:"37"}]},{name:"SAP S/4HANA",status:"Offline",lastSync:"há 4 horas",owner:"TI Corporativa",description:"Integração standby aguardando credenciais atualizadas.",metrics:[{label:"Filas pendentes",value:"12"},{label:"Tentativas",value:"3"}]}],"Storage & Cloud":[{name:"Azure Blob Storage",status:"Online",lastSync:"há 2 minutos",owner:"Infraestrutura",description:"Armazena anexos e modelos BIM pesados com versionamento.",metrics:[{label:"Uso",value:"2,4 TB"},{label:"Objetos",value:"58.129"}]},{name:"Google Drive Parceiros",status:"Parcial",lastSync:"há 45 minutos",owner:"Stakeholders Externos",description:"Espaço compartilhado com clientes e fornecedores estratégicos.",metrics:[{label:"Pastas compartilhadas",value:"32"},{label:"Links expirados",value:"0"}]}],"APIs & Webhooks":[{name:"Power BI Dataflow",status:"Online",lastSync:"há 12 minutos",owner:"Analytics",description:"Alimenta dashboards customizados e relatórios executivos.",metrics:[{label:"Dataflows",value:"5"},{label:"Último refresh",value:"OK"}]},{name:"Webhook Stakeholders",status:"Online",lastSync:"há 3 minutos",owner:"PMO",description:"Envia alertas de marcos, RFIs e aprovações para clientes.",metrics:[{label:"Eventos nas últimas 24h",value:"212"},{label:"Falhas",value:"0,3%"}]}]},Fn=a=>{switch(a){case"Online":return"success";case"Parcial":return"warning";default:return"error"}},$n=()=>e.jsx(f,{children:e.jsxs(r,{spacing:3,children:[e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"Hub de Integrações"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Monitore conectores BIM, ERPs, provedores de arquivos e APIs em um cockpit único."})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(xs,{color:"primary"}),title:"Integrações ativas",subheader:"Conectores com healthcheck"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"18"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Com monitoramento 24/7 e SLA de 99,5%."})]})]})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(sr,{color:"success"}),title:"Jobs sincronizados",subheader:"Últimas 24 horas"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"1.274"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"92% executados com automação total."})]})]})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(Da,{color:"secondary"}),title:"Workflows automatizados"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"46"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Regras se/então conectadas a ERPs e BIM."})]})]})}),e.jsx(x,{item:!0,xs:12,md:3,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(tr,{color:"warning"}),title:"Alertas em andamento"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"3"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Acompanhe falhas e retentativas em tempo real."})]})]})})]}),Object.entries(Wn).map(([a,t])=>e.jsxs(rr,{defaultExpanded:!0,sx:{borderRadius:2,mb:2},children:[e.jsx(nr,{expandIcon:e.jsx(or,{}),children:e.jsxs(r,{direction:{xs:"column",md:"row"},spacing:1,alignItems:{md:"center"},justifyContent:"space-between",sx:{width:"100%"},children:[e.jsx(s,{variant:"h6",fontWeight:600,children:a}),e.jsx(S,{label:`${t.length} conectores`,color:"primary",variant:"outlined"})]})}),e.jsx(ir,{children:e.jsx(x,{container:!0,spacing:2,children:t.map(n=>e.jsx(x,{item:!0,xs:12,md:6,lg:4,children:e.jsxs(I,{variant:"outlined",sx:{height:"100%"},children:[e.jsx(_,{title:n.name,subheader:`Responsável: ${n.owner}`,action:e.jsx(S,{label:n.status,color:Fn(n.status),size:"small"})}),e.jsxs(A,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:n.description}),e.jsx(U,{sx:{my:1.5}}),e.jsx(r,{spacing:1,children:n.metrics.map(o=>e.jsxs(r,{direction:"row",justifyContent:"space-between",children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:o.label}),e.jsx(s,{variant:"body2",fontWeight:600,children:o.value})]},o.label))}),e.jsx(U,{sx:{my:1.5}}),e.jsxs(r,{direction:"row",spacing:1,justifyContent:"space-between",alignItems:"center",children:[e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Último sync: ",n.lastSync]}),e.jsx(G,{size:"small",children:"Ver detalhes"})]})]})]})},n.name))})})]},a)),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{title:"Fila de eventos em tempo real",subheader:"Monitoramento contínuo de webhooks"}),e.jsx(A,{children:e.jsxs(r,{spacing:2,children:[e.jsxs(r,{direction:"row",spacing:2,children:[e.jsx(S,{icon:e.jsx(lr,{}),label:"Webhooks",color:"primary"}),e.jsx(S,{icon:e.jsx(js,{}),label:"Financeiro",color:"secondary"}),e.jsx(S,{icon:e.jsx(cr,{}),label:"Uploads BIM",color:"success"})]}),e.jsx(Ge,{variant:"determinate",value:72,color:"primary",sx:{height:8,borderRadius:3}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"72% dos eventos processados nos últimos 5 minutos. Fila atual: 38 itens."})]})})]})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{title:"Playbooks de automação",subheader:"Sugestões para novos conectores"}),e.jsx(A,{children:e.jsxs(r,{spacing:1.5,children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Sa,{color:"warning"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"RFIs para BIM 360"})]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Gere issues automaticamente em obras Autodesk quando novas RFIs forem abertas no ARXIS."}),e.jsx(U,{sx:{my:1}}),e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Sa,{color:"warning"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"Aprovação de medições com SAP"})]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Sincronize medições aprovadas com ordens de pagamento no SAP S/4HANA com retentativas automáticas."})]})})]})})]})]})});te.extend(Ls);te.locale("pt-br");const $s=[{id:"sync-001",type:"Diário",status:"Pendente",project:"Linha 8 Trens",updatedAt:te().subtract(18,"minute").toISOString()},{id:"sync-002",type:"Checklist",status:"Erro",project:"Hospital Vida Nova",updatedAt:te().subtract(32,"minute").toISOString()},{id:"sync-003",type:"Foto",status:"Pendente",project:"Residencial Horizonte",updatedAt:te().subtract(5,"minute").toISOString()},{id:"sync-004",type:"Observação",status:"Sincronizado",project:"Hospital Vida Nova",updatedAt:te().subtract(2,"hour").toISOString()}],be={storageUsedMb:442,totalCapacityMb:1024,pendingUploads:$s.filter(a=>a.status!=="Sincronizado").length,checklistsCompleted:38,photosCaptured:147},qn=[{title:"Pacote de checklists NR-35",description:"Inclui versões mais recentes e anexos de procedimento",size:"32 MB",version:"v2.4"},{title:"Mapas offline canteiro Linha 8",description:"Mapbox + plantas georreferenciadas para consulta sem conexão",size:"120 MB",version:"v1.12"},{title:"Modelos de diário de obra",description:"Templates com automações e campos obrigatórios atualizados",size:"14 MB",version:"v3.1"}],Hn=()=>{const[a,t]=l.useState(!0),n=l.useMemo(()=>({percentage:Math.round(be.storageUsedMb/be.totalCapacityMb*100),freeMb:be.totalCapacityMb-be.storageUsedMb}),[]);return e.jsx(f,{children:e.jsxs(r,{spacing:3,children:[e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"Operações em Campo & Modo Offline"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Empodere as equipes com sincronização inteligente, checklists offline e telemetria integrada."})]}),e.jsxs(Y,{sx:{p:3},children:[e.jsxs(r,{direction:{xs:"column",md:"row"},spacing:3,alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[a?e.jsx(dr,{color:"warning"}):e.jsx(mr,{color:"primary"}),e.jsx(s,{variant:"h6",children:a?"Modo offline ativo":"Conectado à nuvem"})]}),e.jsxs(r,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Alternar modo offline"}),e.jsx(Ye,{checked:a,onChange:o=>t(o.target.checked)})]})]}),e.jsx(U,{sx:{my:2}}),e.jsxs(r,{direction:{xs:"column",md:"row"},spacing:3,children:[e.jsx(S,{icon:e.jsx(hr,{}),label:`${be.checklistsCompleted} checklists concluídos`,color:"primary",variant:"outlined"}),e.jsx(S,{icon:e.jsx(ur,{}),label:`${be.photosCaptured} fotos capturadas`,color:"secondary",variant:"outlined"}),e.jsx(S,{icon:e.jsx(ws,{}),label:`${be.pendingUploads} itens aguardando sincronização`,color:"warning",variant:"outlined"}),e.jsx(S,{icon:e.jsx(Sa,{}),label:"Sincronização automática a cada 15 min",color:"success",variant:"outlined"})]})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:5,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Fila de sincronização",subheader:"Itens aguardando conexão para envio"}),e.jsx(A,{children:e.jsx(ne,{children:$s.map(o=>e.jsxs(re,{alignItems:"flex-start",children:[e.jsx(Re,{children:o.status==="Sincronizado"?e.jsx(Ta,{color:"success"}):o.status==="Erro"?e.jsx(bs,{color:"error"}):e.jsx(xr,{color:"warning"})}),e.jsx(Z,{primary:e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,children:o.type}),e.jsx(S,{label:o.status,color:o.status==="Sincronizado"?"success":o.status==="Erro"?"error":"warning",size:"small"})]}),secondary:e.jsxs(r,{spacing:.5,children:[e.jsxs(s,{variant:"body2",color:"text.secondary",children:["Projeto: ",o.project]}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Atualizado ",te(o.updatedAt).fromNow()]})]})})]},o.id))})})]})}),e.jsx(x,{item:!0,xs:12,md:7,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Armazenamento dedicado offline"}),e.jsx(A,{children:e.jsxs(r,{spacing:2,children:[e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(s,{variant:"subtitle1",children:"Uso atual"}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:[be.storageUsedMb," MB / ",be.totalCapacityMb," MB (livres ",n.freeMb," MB)"]})]}),e.jsx(Ge,{variant:"determinate",value:n.percentage,sx:{height:8,borderRadius:3},color:n.percentage>85?"error":n.percentage>65?"warning":"primary"}),e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"subtitle2",children:"Pacotes disponíveis para download"}),qn.map(o=>e.jsx(Y,{variant:"outlined",sx:{p:2,borderRadius:2},children:e.jsxs(r,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",spacing:1,alignItems:{sm:"center"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,children:o.title}),e.jsx(s,{variant:"body2",color:"text.secondary",children:o.description}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:[o.size," • ",o.version]})]}),e.jsxs(r,{direction:"row",spacing:1,children:[e.jsx(G,{startIcon:e.jsx(pr,{}),size:"small",variant:"outlined",children:"Baixar"}),e.jsx(G,{startIcon:e.jsx(jr,{}),size:"small",variant:"text",children:"Atualizar"})]})]})},o.title))]})]})})]})})]}),e.jsxs(I,{elevation:2,children:[e.jsx(_,{title:"Mapa e telemetria",subheader:"Acompanhe o canteiro mesmo em modo offline"}),e.jsx(A,{children:e.jsxs(r,{direction:{xs:"column",md:"row"},spacing:3,alignItems:"center",children:[e.jsxs(f,{sx:{width:{xs:"100%",md:"50%"},aspectRatio:"4 / 3",borderRadius:2,bgcolor:"grey.200",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[e.jsx(gs,{sx:{fontSize:80,color:"primary.main"}}),e.jsxs(s,{variant:"subtitle1",sx:{position:"absolute",bottom:16,right:16,bgcolor:"white",px:2,py:.5,borderRadius:2,boxShadow:1},children:["Último sync: ",te().subtract(12,"minute").format("HH:mm")]})]}),e.jsxs(r,{spacing:1,sx:{flex:1},children:[e.jsx(s,{variant:"h6",fontWeight:600,children:"Resumo do dia"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"• 18 equipes em campo"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"• 147 fotos capturadas (72 offline)"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"• 12 checklists críticos concluídos"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"• 4 alertas de segurança emitidos automaticamente"})]})]})})]})]})})},Kn=[{name:"Conselho Executivo",level:"Visão estratégica",access:"Dashboards financeiros, marcos principais",members:["Ana","Roberto","Luís"]},{name:"Cliente Operacional",level:"Visão operacional",access:"RFIs, diários, fotos e cronograma detalhado",members:["Fernanda","Paulo"]},{name:"Fornecedores críticos",level:"Visão colaborativa",access:"Pedidos, entregas, contratos e aditivos",members:["Construsol","Alpha Mix"]}],Un=[{title:"Resumo executivo semanal",channel:"E-mail + Portal",date:"22/01/2026",status:"Publicado"},{title:"Alerta de RFI crítica (RFI-231)",channel:"Portal + Notificação push",date:"20/01/2026",status:"Em andamento"},{title:"Checklist segurança obra",channel:"Aplicativo móvel",date:"18/01/2026",status:"Publicado"}],Gn=()=>e.jsx(f,{children:e.jsxs(r,{spacing:3,children:[e.jsxs(r,{spacing:1,children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"Portal de Stakeholders"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Transparência e colaboração em tempo real com clientes, conselhos e fornecedores."})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:4,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(gr,{color:"primary"}),title:"Stakeholders ativos",subheader:"Usuários externos com acesso configurado"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"58"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Divididos em 12 grupos com acesso segmentado."})]})]})}),e.jsx(x,{item:!0,xs:12,md:4,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(Na,{color:"success"}),title:"Marcos sincronizados",subheader:"Atualizados para os stakeholders"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"142"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Inclui entregas, aprovações e riscos em destaque."})]})]})}),e.jsx(x,{item:!0,xs:12,md:4,children:e.jsxs(I,{elevation:2,children:[e.jsx(_,{avatar:e.jsx(fr,{color:"secondary"}),title:"Satisfação",subheader:"Net Stakeholder Score"}),e.jsxs(A,{children:[e.jsx(s,{variant:"h4",fontWeight:700,children:"86"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Feedback coletado diretamente no portal."})]})]})})]}),e.jsxs(I,{elevation:2,children:[e.jsx(_,{title:"Níveis de acesso",subheader:"Configure experiências específicas por perfil"}),e.jsx(A,{children:e.jsx(x,{container:!0,spacing:2,children:Kn.map(a=>e.jsx(x,{item:!0,xs:12,md:4,children:e.jsx(I,{variant:"outlined",sx:{height:"100%"},children:e.jsx(A,{children:e.jsxs(r,{spacing:1.5,children:[e.jsx(s,{variant:"h6",fontWeight:600,children:a.name}),e.jsx(S,{icon:e.jsx(vr,{fontSize:"small"}),label:a.level,color:"primary",variant:"outlined"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:a.access}),e.jsxs(r,{children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Integrantes"}),e.jsx(br,{max:4,sx:{justifyContent:"flex-start"},children:a.members.map(t=>e.jsx(ze,{children:t[0]},t))})]}),e.jsx(G,{size:"small",variant:"outlined",children:"Gerenciar acesso"})]})})})},a.name))})})]}),e.jsxs(x,{container:!0,spacing:2,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Comunicações recentes",subheader:"Histórico centralizado para auditoria"}),e.jsx(A,{children:e.jsx(ne,{children:Un.map(a=>e.jsx(re,{alignItems:"flex-start",children:e.jsx(Z,{primary:e.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,children:a.title}),e.jsx(S,{label:a.status,color:a.status==="Publicado"?"success":"warning",size:"small"})]}),secondary:e.jsxs(e.Fragment,{children:[e.jsxs(s,{variant:"body2",color:"text.secondary",children:["Canal: ",a.channel]}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Data: ",a.date]})]})})},a.title))})})]})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsxs(I,{elevation:2,sx:{height:"100%"},children:[e.jsx(_,{title:"Automação de notificações",subheader:"Dispare alertas personalizados"}),e.jsx(A,{children:e.jsxs(r,{spacing:1.5,children:[e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(yr,{color:"primary"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"Alertas de marcos"})]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Envio instantâneo quando marcos críticos são concluídos ou atrasados."}),e.jsx(U,{sx:{my:1}}),e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Cr,{color:"secondary"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"Portal de dúvidas"})]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Canal bidirecional com SLA automática e sugestões de resposta."}),e.jsx(U,{sx:{my:1}}),e.jsxs(r,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(wr,{color:"warning"}),e.jsx(s,{variant:"subtitle1",fontWeight:600,children:"Relatórios executivos"})]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"PDFs e dashboards interativos liberados semanalmente, com confirmação de leitura."}),e.jsx(G,{variant:"contained",startIcon:e.jsx(Ta,{}),children:"Configurar automações"})]})})]})})]})]})}),ye="http://localhost:5136/api",Vn={async sendEmail(a){return(await fe.post(`${ye}/email/send`,a)).data},async sendTemplatedEmail(a,t,n){return(await fe.post(`${ye}/email/send-template`,{templateName:a,to:t,variables:n})).data},async sendWelcomeEmail(a,t){return(await fe.post(`${ye}/email/send-welcome`,{to:a,userName:t})).data},async sendPasswordResetEmail(a,t,n){return(await fe.post(`${ye}/email/send-password-reset`,{to:a,userName:t,resetLink:n})).data},async sendNotificationEmail(a,t,n,o){return(await fe.post(`${ye}/email/send-notification`,{to:a,title:t,message:n,details:o})).data},async sendIssueAssignmentEmail(a,t,n,o){return(await fe.post(`${ye}/email/send-issue-assignment`,{to:a,userName:t,issueTitle:n,projectName:o})).data},async sendTaskDeadlineEmail(a,t,n,o){return(await fe.post(`${ye}/email/send-task-deadline`,{to:a,userName:t,taskTitle:n,deadline:o.toISOString()})).data},async sendBatchEmails(a){return(await fe.post(`${ye}/email/send-batch`,a)).data},async validateEmail(a){return(await fe.get(`${ye}/email/validate`,{params:{email:a}})).data}},ms={name:"",email:"",company:""},Xn=()=>{const[a,t]=l.useState(ms),[n,o]=l.useState(!1),[c,g]=l.useState(null),[b,i]=l.useState(null),d=m=>{const{name:C,value:w}=m.target;t(P=>({...P,[C]:w}))},k=async m=>{if(m.preventDefault(),!a.email||!a.name){i("error"),g("Preencha nome e email para receber o acesso.");return}try{o(!0),g(null),i(null),await Vn.sendWelcomeEmail(a.email,a.name),i("success"),g("Tudo certo! Enviamos um email com o link de boas-vindas. Confira sua caixa de entrada."),t(ms)}catch(C){console.error("Falha ao enviar email de boas-vindas",C),i("error"),g("Não foi possível enviar o email agora. Tente novamente em instantes.")}finally{o(!1)}};return e.jsxs("div",{className:"marketing-landing",children:[e.jsxs("header",{className:"hero",children:[e.jsxs("div",{className:"hero__content",children:[e.jsx("span",{className:"hero__tag",children:"Plataforma SaaS para engenharia e construção"}),e.jsx("h1",{children:"Orquestre tarefas, workflows inteligentes e analytics em uma única plataforma."}),e.jsx("p",{children:"O Arxis centraliza operações de obra, automatiza aprovações e entrega indicadores preditivos em tempo real. Reduza atrasos, elimine planilhas paralelas e conecte toda a cadeia de projetos em minutos."}),e.jsxs("div",{className:"hero__actions",children:[e.jsx("a",{className:"cta",href:"#plans",children:"Ver planos"}),e.jsx("a",{className:"cta cta--outline",href:"#demo",children:"Receber link de boas-vindas"})]}),e.jsxs("div",{className:"hero__social-proof",children:[e.jsx("span",{children:"Confiança de squads de engenharia de todo o Brasil"}),e.jsxs("div",{className:"hero__avatars",children:[e.jsx("div",{className:"avatar","aria-hidden":"true"}),e.jsx("div",{className:"avatar","aria-hidden":"true"}),e.jsx("div",{className:"avatar","aria-hidden":"true"}),e.jsx("div",{className:"avatar","aria-hidden":"true"})]})]})]}),e.jsx("div",{className:"hero__mockup","aria-hidden":"true",children:e.jsxs("div",{className:"mockup__window",children:[e.jsxs("div",{className:"mockup__bar",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsxs("div",{className:"mockup__body",children:[e.jsxs("div",{className:"mockup__column",children:[e.jsx("h4",{children:"Workflow inteligente"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Registro automático"}),e.jsx("li",{children:"Aprovação multi-nível"}),e.jsx("li",{children:"Execução em campo"}),e.jsx("li",{children:"Insights preditivos"})]})]}),e.jsxs("div",{className:"mockup__column mockup__column--board",children:[e.jsx("span",{className:"badge badge--warning",children:"Sprint atual"}),e.jsxs("div",{className:"mockup__card",children:[e.jsx("strong",{children:"Revisar memorial descritivo"}),e.jsx("p",{children:"Squad PMO • Conclusão prevista em 2d"})]}),e.jsxs("div",{className:"mockup__card",children:[e.jsx("strong",{children:"Gerar dashboard stakeholders"}),e.jsx("p",{children:"Analytics • Status: Em andamento"})]}),e.jsxs("div",{className:"mockup__card",children:[e.jsx("strong",{children:"Sincronizar telemetria"}),e.jsx("p",{children:"IoT • Integração concluída"})]})]})]})]})})]}),e.jsxs("section",{className:"metrics",id:"metricas",children:[e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric__value",children:"25%"}),e.jsx("span",{className:"metric__label",children:"redução média no ciclo de tarefas"})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric__value",children:"+38%"}),e.jsx("span",{className:"metric__label",children:"de visibilidade financeira em tempo real"})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric__value",children:"12h"}),e.jsx("span",{className:"metric__label",children:"economizadas por squad toda semana"})]})]}),e.jsxs("section",{className:"features",id:"recursos",children:[e.jsx("h2",{children:"Por que times de engenharia escolhem o Arxis"}),e.jsxs("div",{className:"features__grid",children:[e.jsxs("article",{className:"feature-card",children:[e.jsx("h3",{children:"Orquestração completa"}),e.jsx("p",{children:"Planeje, priorize e monitore todas as frentes em um board visual com automações inteligentes."}),e.jsxs("ul",{children:[e.jsx("li",{children:"KPI ao vivo e alertas preditivos"}),e.jsx("li",{children:"Workflows com SLA e checklists"}),e.jsx("li",{children:"Integração nativa com ERP e BIM"})]})]}),e.jsxs("article",{className:"feature-card",children:[e.jsx("h3",{children:"Field e stakeholders conectados"}),e.jsx("p",{children:"Apps offline, registro de diário de obra e portais externos em um único fluxo."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Compartilhamento seguro com parceiros"}),e.jsx("li",{children:"Templates de comunicação automática"}),e.jsx("li",{children:"Controle granular de permissões"})]})]}),e.jsxs("article",{className:"feature-card",children:[e.jsx("h3",{children:"Analytics de 360º"}),e.jsx("p",{children:"Dashboards prontos e camada de dados aberta para BI e inteligência preditiva."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Projeções financeiras e burn down"}),e.jsx("li",{children:"Sensores IoT integrados"}),e.jsx("li",{children:"Modelo de maturidade operacional"})]})]})]})]}),e.jsxs("section",{className:"use-cases",id:"casos",children:[e.jsxs("div",{className:"use-cases__content",children:[e.jsx("h2",{children:"Implementação guiada e onboarding em 30 dias"}),e.jsx("p",{children:"Nossa equipe acompanha seu squad desde o discovery até o roll-out completo. Disponibilizamos templates prontos, conectores com TOTVS e Power BI, e especialistas para acelerar adoção e governança."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Playbook de rollout por capítulo PMBOK"}),e.jsx("li",{children:"Workspace para squads, PMO e diretoria"}),e.jsx("li",{children:"Trilha de capacitação com certificação"})]}),e.jsx(Ya,{className:"text-link",to:"/login",children:"Já é cliente? Acesse a plataforma"})]}),e.jsx("div",{className:"use-cases__media","aria-hidden":"true",children:e.jsxs("div",{className:"media-card",children:[e.jsx("span",{className:"badge badge--success",children:"Case destaque"}),e.jsx("h4",{children:"Construtora Atlas"}),e.jsx("p",{children:"Redução de 32% no ciclo de aprovação financeira e D+1 de visibilidade em analytics."}),e.jsxs("div",{className:"media-card__meta",children:[e.jsx("span",{children:"+180 usuários onboard"}),e.jsx("span",{children:"6 integrações ERP"})]})]})})]}),e.jsxs("section",{className:"plans",id:"plans",children:[e.jsx("h2",{children:"Planos flexíveis para cada estágio da sua operação"}),e.jsxs("div",{className:"plans__grid",children:[e.jsxs("article",{className:"plan-card",children:[e.jsx("span",{className:"badge badge--neutral",children:"Essencial"}),e.jsx("h3",{children:"R$ 1.290/mês"}),e.jsx("p",{children:"Ideal para squads iniciando a digitalização da operação."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Até 50 usuários ativos"}),e.jsx("li",{children:"Board de tarefas + workflows padrão"}),e.jsx("li",{children:"Integração ERP unidirecional"}),e.jsx("li",{children:"Suporte em horário comercial"})]}),e.jsx("a",{className:"cta cta--ghost",href:"#demo",children:"Começar agora"})]}),e.jsxs("article",{className:"plan-card plan-card--highlight",children:[e.jsx("span",{className:"badge badge--warning",children:"Growth"}),e.jsx("h3",{children:"R$ 2.990/mês"}),e.jsx("p",{children:"Para operações em expansão buscando automações personalizadas."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Até 150 usuários ativos"}),e.jsx("li",{children:"API aberta e integrações bidirecionais"}),e.jsx("li",{children:"Analytics avançados e projeções"}),e.jsx("li",{children:"Customer Success dedicado 12x5"})]}),e.jsx("a",{className:"cta",href:"#demo",children:"Agendar demonstração"})]}),e.jsxs("article",{className:"plan-card",children:[e.jsx("span",{className:"badge badge--success",children:"Enterprise"}),e.jsx("h3",{children:"Sob consulta"}),e.jsx("p",{children:"Quando a operação exige governança corporativa e escala."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Usuários ilimitados e ambientes dedicados"}),e.jsx("li",{children:"IA preditiva customizada"}),e.jsx("li",{children:"SSO, SLA 99,9% e suporte 24/7"}),e.jsx("li",{children:"Consultoria de rollout e migração"})]}),e.jsx("a",{className:"cta cta--ghost",href:"#demo",children:"Falar com vendas"})]})]})]}),e.jsxs("section",{className:"demo",id:"demo",children:[e.jsxs("div",{className:"demo__content",children:[e.jsx("h2",{children:"Receba o link de boas-vindas e explore o Arxis agora mesmo"}),e.jsx("p",{children:"Preencha seus dados e enviamos um email com acesso à experiência guiada, incluindo board de tarefas reais, workflows e dashboards preconfigurados."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Ambiente demo com dados reais de obra"}),e.jsx("li",{children:"Tour interativo + checklist de onboarding"}),e.jsx("li",{children:"Suporte humano para dúvidas durante o trial"})]})]}),e.jsxs("form",{className:"demo__form",onSubmit:k,children:[e.jsxs("div",{className:"form__field",children:[e.jsx("label",{htmlFor:"name",children:"Nome completo"}),e.jsx("input",{id:"name",name:"name",value:a.name,onChange:d,placeholder:"Maria Souza",required:!0})]}),e.jsxs("div",{className:"form__field",children:[e.jsx("label",{htmlFor:"email",children:"Email corporativo"}),e.jsx("input",{id:"email",name:"email",type:"email",value:a.email,onChange:d,placeholder:"seuemail@empresa.com",required:!0})]}),e.jsxs("div",{className:"form__field",children:[e.jsx("label",{htmlFor:"company",children:"Empresa"}),e.jsx("input",{id:"company",name:"company",value:a.company,onChange:d,placeholder:"Construtora Atlas"})]}),e.jsx("button",{type:"submit",className:"cta",disabled:n,children:n?"Enviando...":"Quero meu acesso"}),c?e.jsx("p",{className:`form__status form__status--${b}`,children:c}):null,e.jsx("span",{className:"form__disclaimer",children:"Ao enviar, você concorda em receber comunicações do Arxis. Cancelamento a qualquer momento."})]})]}),e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Arxis"}),e.jsx("p",{children:"Plataforma operacional para engenharia e construção."})]}),e.jsxs("div",{className:"footer__links",children:[e.jsx("a",{href:"#recursos",children:"Recursos"}),e.jsx("a",{href:"#plans",children:"Planos"}),e.jsx("a",{href:"#demo",children:"Demo guiada"})]}),e.jsxs("div",{className:"footer__cta",children:[e.jsx("a",{className:"cta cta--outline",href:"#demo",children:"Receber boas-vindas"}),e.jsx(Ya,{className:"text-link",to:"/login",children:"Área do cliente"})]})]})]})};function Yn(){const a={projects:e.jsx(Qr,{}),tasks:e.jsx(jn,{}),issues:e.jsx(yn,{}),marketplace:e.jsx(Rn,{}),costs:e.jsx(Mn,{}),analytics:e.jsx(On,{}),integrations:e.jsx($n,{}),field:e.jsx(Hn,{}),stakeholders:e.jsx(Gn,{})};return e.jsxs(Sr,{theme:Tr,children:[e.jsx(Ir,{}),e.jsx(Er,{children:e.jsx(Rr,{children:e.jsxs(Dr,{children:[e.jsx(Ee,{path:"/login",element:e.jsx(Hr,{})}),e.jsx(Ee,{path:"/landing",element:e.jsx(Xn,{})}),e.jsxs(Ee,{path:"/",element:e.jsx(qr,{children:e.jsx($r,{})}),children:[e.jsx(Ee,{index:!0,element:e.jsx(Ur,{})}),Ia.filter(t=>t.path!=="/").map(t=>{const n=t.path.startsWith("/")?t.path.slice(1):t.path,o=a[t.id]??e.jsx(Cn,{module:t});return e.jsx(Ee,{path:n,element:o},t.id)})]}),e.jsx(Ee,{path:"*",element:e.jsx(ks,{to:"/",replace:!0})})]})})})]})}_r.createRoot(document.getElementById("root")).render(e.jsx(Oe.StrictMode,{children:e.jsx(Yn,{})}));
